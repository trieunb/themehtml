(function outer(g,d,a){function c(a){if(d[a])return d[a].exports;if(g[a])return f(a,c);throw Error('cannot find module "'+a+'"');}function f(c,e){var f=d[c]={exports:{}},h=g[c],w=h[2],h=h[0],q=!0;try{h.call(f.exports,function(a){return e(g[c][1][a]||a)},f,f.exports,outer,g,d,a),q=!1}finally{q?delete d[c]:w&&(d[w]=d[c])}return d[c].exports}var e=function(){return this}(),h;for(h in a)a[h]?e[a[h]]=c(h):c(h);c.duo=!0;c.cache=d;c.modules=g;return c})({1:[function(b,g,d){d=window.trekkie||[];var a=b("segmentio/analytics.js-core"),
c=b("./integrations");b=b("each");g.exports=a;for(b(c,function(c,e){a.use(e)});d&&0<d.length;)g=d.shift(),b=g.shift(),a[b]&&a[b].apply(a,g)},{"segmentio/analytics.js-core":2,"./integrations":3,each:4}],2:[function(b,g,d){d=b("./analytics");(g.exports=d=new d).require=b;d.VERSION=b("../bower.json").version},{"./analytics":5,"../bower.json":6}],5:[function(b,g,d){function a(){this._options({});this.Integrations={};this._integrations={};this._readied=!1;this._timeout=300;this._user=A;this.log=p("analytics.js");
h.all(this);var a=this;this.on("initialize",function(c,e){e.initialPageview&&a.page();a._parseQuery(window.location.search)})}var c=window.analytics,f=b("emitter");d=b("facade");var e=b("after"),h=b("bind"),l=b("callback"),k=b("clone"),m=b("./cookie"),p=b("debug"),w=b("defaults"),q=b("each"),u=b("foldl"),v=b("./group"),n=b("is"),z=b("is-meta"),x=b("object").keys,y=b("./memory"),B=b("./normalize"),t=b("event").bind,r=b("./pageDefaults"),C=b("pick"),D=b("prevent"),F=b("querystring"),G=b("object").length,
E=b("./store"),A=b("./user"),H=d.Alias,I=d.Group,J=d.Identify,K=d.Page,L=d.Track;d=g.exports=a;d.cookie=m;d.store=E;d.memory=y;f(a.prototype);a.prototype.use=function(a){a(this);return this};a.prototype.addIntegration=function(a){var c=a.prototype.name;if(!c)throw new TypeError("attempted to add an invalid integration");this.Integrations[c]=a;return this};a.prototype.init=a.prototype.initialize=function(a,c){a=a||{};c=c||{};this._options(c);this._readied=!1;var f=this;q(a,function(c){f.Integrations[c]||
delete a[c]});q(a,function(a,c){var e=new f.Integrations[a](k(c));f.log("initialize %o - %o",a,c);f.add(e)});var h=this._integrations;A.load();v.load();var b=e(G(h),function(){f._readied=!0;f.emit("ready")});q(h,function(a,h){c.initialPageview&&!1===h.options.initialPageview&&(h.page=e(2,h.page));h.analytics=f;h.once("ready",b);h.initialize()});this.initialized=!0;this.emit("initialize",a,c);return this};a.prototype.setAnonymousId=function(a){this.user().anonymousId(a);return this};a.prototype.add=
function(a){this._integrations[a.name]=a;return this};a.prototype.identify=function(a,c,e,f){n.fn(e)&&(f=e,e=null);n.fn(c)&&(f=c,c=e=null);n.object(a)&&(e=c,c=a,a=A.id());A.identify(a,c);var h=this.normalize({options:e,traits:A.traits(),userId:A.id()});this._invoke("identify",new J(h));this.emit("identify",a,c,e);this._callback(f);return this};a.prototype.user=function(){return A};a.prototype.group=function(a,c,e,f){if(!arguments.length)return v;n.fn(e)&&(f=e,e=null);n.fn(c)&&(f=c,c=e=null);n.object(a)&&
(e=c,c=a,a=v.id());v.identify(a,c);var h=this.normalize({options:e,traits:v.traits(),groupId:v.id()});this._invoke("group",new I(h));this.emit("group",a,c,e);this._callback(f);return this};a.prototype.track=function(a,c,e,f){n.fn(e)&&(f=e,e=null);n.fn(c)&&(f=c,c=e=null);var h=this.options.plan||{},h=h.track||{},b=this.normalize({properties:c,options:e,event:a});if(h=h[a]){this.log("plan %o - %o",a,h);if(!1===h.enabled)return this._callback(f);w(b.integrations,h.integrations||{})}this._invoke("track",
new L(b));this.emit("track",a,c,e);this._callback(f);return this};a.prototype.trackClick=a.prototype.trackLink=function(a,c,e){if(!a)return this;n.element(a)&&(a=[a]);var f=this;q(a,function(a){if(!n.element(a))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");t(a,"click",function(h){var b=n.fn(c)?c(a):c,m=n.fn(e)?e(a):e,d=a.getAttribute("href")||a.getAttributeNS("http://www.w3.org/1999/xlink","href")||a.getAttribute("xlink:href");f.track(b,m);d&&"_blank"!==a.target&&!z(h)&&(D(h),
f._callback(function(){window.location.href=d}))})});return this};a.prototype.trackSubmit=a.prototype.trackForm=function(a,c,e){if(!a)return this;n.element(a)&&(a=[a]);var f=this;q(a,function(a){function h(b){D(b);b=n.fn(c)?c(a):c;var m=n.fn(e)?e(a):e;f.track(b,m);f._callback(function(){a.submit()})}if(!n.element(a))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");var b=window.jQuery||window.Zepto;b?b(a).submit(h):t(a,"submit",h)});return this};a.prototype.page=function(a,c,
e,f,h){n.fn(f)&&(h=f,f=null);n.fn(e)&&(h=e,f=e=null);n.fn(c)&&(h=c,f=e=c=null);n.object(a)&&(f=c,e=a,c=a=null);n.object(c)&&(f=e,e=c,c=null);n.string(a)&&!n.string(c)&&(c=a,a=null);e=k(e)||{};c&&(e.name=c);a&&(e.category=a);var b=r();w(e,b);b=C(x(b),e);n.empty(b)||(f=f||{},f.context=f.context||{},f.context.page=b);b=this.normalize({properties:e,category:a,options:f,name:c});this._invoke("page",new K(b));this.emit("page",a,c,e,f);this._callback(h);return this};a.prototype.pageview=function(a){var c=
{};a&&(c.path=a);this.page(c);return this};a.prototype.alias=function(a,c,e,f){n.fn(e)&&(f=e,e=null);n.fn(c)&&(f=c,c=e=null);n.object(c)&&(e=c,c=null);var h=this.normalize({options:e,previousId:c,userId:a});this._invoke("alias",new H(h));this.emit("alias",a,c,e);this._callback(f);return this};a.prototype.ready=function(a){if(n.fn(a))if(this._readied)l.async(a);else this.once("ready",a);return this};a.prototype.timeout=function(a){this._timeout=a};a.prototype.debug=function(a){!arguments.length||a?
p.enable("analytics:"+(a||"*")):p.disable()};a.prototype._options=function(a){this.options=a=a||{};m.options(a.cookie);E.options(a.localStorage);A.options(a.user);v.options(a.group);return this};a.prototype._callback=function(a){l.async(a,this._timeout);return this};a.prototype._invoke=function(a,c){this.emit("invoke",c);q(this._integrations,function(e,f){c.enabled(e)&&f.invoke.call(f,a,c)});return this};a.prototype.push=function(a){var c=a.shift();this[c]&&this[c].apply(this,a)};a.prototype.reset=
function(){this.user().logout();this.group().logout()};a.prototype._parseQuery=function(a){function c(a,e){var f=a.length,h;return u(function(c,e,b){b.substr(0,f)===a&&(h=b.substr(f),c[h]=e);return c},{},e)}a=F.parse(a);var e=c("ajs_trait_",a),f=c("ajs_prop_",a);a.ajs_uid&&this.identify(a.ajs_uid,e);a.ajs_event&&this.track(a.ajs_event,f);a.ajs_aid&&A.anonymousId(a.ajs_aid);return this};a.prototype.normalize=function(a){a=B(a,x(this._integrations));a.anonymousId&&A.anonymousId(a.anonymousId);a.anonymousId=
A.anonymousId();a.context.page=w(a.context.page||{},r());return a};a.prototype.noConflict=function(){window.analytics=c;return this}},{emitter:7,facade:8,after:9,bind:10,callback:11,clone:12,"./cookie":13,debug:14,defaults:15,each:4,foldl:16,"./group":17,is:18,"is-meta":19,object:20,"./memory":21,"./normalize":22,event:23,"./pageDefaults":24,pick:25,prevent:26,querystring:27,"./store":28,"./user":29}],7:[function(b,g,d){function a(c){if(c){for(var e in a.prototype)c[e]=a.prototype[e];return c}}var c=
b("indexof");g.exports=a;a.prototype.on=a.prototype.addEventListener=function(a,c){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(c);return this};a.prototype.once=function(a,c){function h(){b.off(a,h);c.apply(this,arguments)}var b=this;this._callbacks=this._callbacks||{};c._off=h;this.on(a,h);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,e){this._callbacks=this._callbacks||{};
if(0==arguments.length)return this._callbacks={},this;var h=this._callbacks[a];if(!h)return this;if(1==arguments.length)return delete this._callbacks[a],this;var b=c(h,e._off||e);~b&&h.splice(b,1);return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),h=this._callbacks[a];if(h)for(var h=h.slice(0),b=0,d=h.length;b<d;++b)h[b].apply(this,c);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||
[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{indexof:30}],30:[function(b,g,d){g.exports=function(a,c){if(a.indexOf)return a.indexOf(c);for(var f=0;f<a.length;++f)if(a[f]===c)return f;return-1}},{}],8:[function(b,g,d){d=b("./facade");g.exports=d;d.Alias=b("./alias");d.Group=b("./group");d.Identify=b("./identify");d.Track=b("./track");d.Page=b("./page");d.Screen=b("./screen")},{"./facade":31,"./alias":32,"./group":33,"./identify":34,"./track":35,"./page":36,"./screen":37}],
31:[function(b,g,d){function a(a){a=e(a);a.hasOwnProperty("timestamp")?a.timestamp=k(a.timestamp):a.timestamp=new Date;c(a);this.obj=a}var c=b("isodate-traverse"),f=b("./is-enabled"),e=b("./utils").clone,h=b("./utils").type;d=b("./address");var l=b("obj-case"),k=b("new-date");g.exports=a;d(a.prototype);a.prototype.proxy=function(a){var c=a.split(".");a=c.shift();a=this[a]||this.field(a);if(!a)return a;"function"===typeof a&&(a=a.call(this)||{});if(0===c.length)return e(a);a=l(a,c.join("."));return e(a)};
a.prototype.field=function(a){return e(this.obj[a])};a.proxy=function(a){return function(){return this.proxy(a)}};a.field=function(a){return function(){return this.field(a)}};a.multi=function(a){return function(){var c=this.proxy(a+"s");if("array"==h(c))return c;(c=this.proxy(a))&&(c=[e(c)]);return c||[]}};a.one=function(a){return function(){var c=this.proxy(a);if(c)return c;c=this.proxy(a+"s");if("array"==h(c))return c[0]}};a.prototype.json=function(){var a=e(this.obj);this.type&&(a.type=this.type());
return a};a.prototype.context=a.prototype.options=function(a){var c=e(this.obj.options||this.obj.context)||{};if(!a)return e(c);if(this.enabled(a))return c=this.integrations(),a=c[a]||l(c,a),"boolean"==typeof a&&(a={}),a||{}};a.prototype.enabled=function(a){var c=this.proxy("options.providers.all");"boolean"!==typeof c&&(c=this.proxy("options.all"));"boolean"!==typeof c&&(c=this.proxy("integrations.all"));"boolean"!==typeof c&&(c=!0);var c=c&&f(a),e=this.integrations();e.providers&&e.providers.hasOwnProperty(a)&&
(c=e.providers[a]);e.hasOwnProperty(a)&&(a=e[a],c="boolean"===typeof a?a:!0);return c?!0:!1};a.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};a.prototype.active=function(){var a=this.proxy("options.active");if(null===a||void 0===a)a=!0;return a};a.prototype.sessionId=a.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};a.prototype.groupId=a.proxy("options.groupId");a.prototype.traits=function(a){var c=
this.proxy("options.traits")||{},e=this.userId();a=a||{};e&&(c.id=e);for(var f in a)e=null==this[f]?this.proxy("options.traits."+f):this[f](),null!=e&&(c[a[f]]=e,delete c[f]);return c};a.prototype.library=function(){var a=this.proxy("options.library");return a?"string"===typeof a?{name:a,version:null}:a:{name:"unknown",version:null}};a.prototype.userId=a.field("userId");a.prototype.channel=a.field("channel");a.prototype.timestamp=a.field("timestamp");a.prototype.userAgent=a.proxy("options.userAgent");
a.prototype.ip=a.proxy("options.ip")},{"isodate-traverse":38,"./is-enabled":39,"./utils":40,"./address":41,"obj-case":42,"new-date":43}],38:[function(b,g,d){function a(a,h){void 0===h&&(h=!0);return e.object(a)?c(a,h):e.array(a)?f(a,h):a}function c(c,f){l(c,function(b,d){h.is(d,f)?c[b]=h.parse(d):(e.object(d)||e.array(d))&&a(d,f)});return c}function f(c,f){l(c,function(b,d){e.object(b)?a(b,f):h.is(b,f)&&(c[d]=h.parse(b))});return c}var e=b("is"),h=b("isodate"),l;try{l=b("each")}catch(k){l=b("each-component")}g.exports=
a},{is:44,isodate:45,each:4}],44:[function(b,g,d){function a(a){return function(e){return a===c(e)}}g=b("is-empty");try{var c=b("type")}catch(h){c=b("component-type")}b="arguments array boolean date element function null number object regexp string undefined".split(" ");for(var f=0,e;e=b[f];f++)d[e]=a(e);d.fn=d["function"];d.empty=g;d.nan=function(a){return d.number(a)&&a!=a}},{"is-empty":46,type:47,"component-type":47}],46:[function(b,g,d){g.exports=function(c){if(null==c)return!0;if("number"==typeof c)return 0===
c;if(void 0!==c.length)return 0===c.length;for(var f in c)if(a.call(c,f))return!1;return!0};var a=Object.prototype.hasOwnProperty},{}],47:[function(b,g,d){var a=Object.prototype.toString;g.exports=function(c){switch(a.call(c)){case "[object Date]":return"date";case "[object RegExp]":return"regexp";case "[object Arguments]":return"arguments";case "[object Array]":return"array";case "[object Error]":return"error"}if(null===c)return"null";if(void 0===c)return"undefined";if(c!==c)return"nan";if(c&&1===
c.nodeType)return"element";if(null!=c&&(c._isBuffer||c.constructor&&"function"===typeof c.constructor.isBuffer&&c.constructor.isBuffer(c)))return"buffer";c=c.valueOf?c.valueOf():Object.prototype.valueOf.apply(c);return typeof c}},{}],45:[function(b,g,d){var a=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;d.parse=function(c){var f=[1,5,6,7,11,12],e=a.exec(c),h=0;if(!e)return new Date(c);c=0;for(var b;b=f[c];c++)e[b]=
parseInt(e[b],10)||0;e[2]=parseInt(e[2],10)||1;e[3]=parseInt(e[3],10)||1;e[2]--;e[8]=e[8]?(e[8]+"00").substring(0,3):0;" "==e[4]?h=(new Date).getTimezoneOffset():"Z"!==e[9]&&e[10]&&(h=60*e[11]+e[12],"+"==e[10]&&(h=0-h));f=Date.UTC(e[1],e[2],e[3],e[5],e[6]+h,e[7],e[8]);return new Date(f)};d.is=function(c,f){return f&&!1===/^\d{4}-\d{2}-\d{2}/.test(c)?!1:a.test(c)}},{}],4:[function(b,g,d){function a(a,c){for(var f=0;f<a.length;++f)c(a[f],f)}var c=b("type"),f=Object.prototype.hasOwnProperty;g.exports=
function(e,h){switch(c(e)){case "array":return a(e,h);case "object":if("number"==typeof e.length)return a(e,h);for(var b in e)f.call(e,b)&&h(b,e[b]);break;case "string":for(b=0;b<e.length;++b)h(e.charAt(b),b)}}},{type:47}],39:[function(b,g,d){var a={Salesforce:!0};g.exports=function(c){return!a[c]}},{}],40:[function(b,g,d){try{d.inherit=b("inherit"),d.clone=b("clone"),d.type=b("type")}catch(a){d.inherit=b("inherit-component"),d.clone=b("clone-component"),d.type=b("type-component")}},{inherit:48,clone:49,
type:47}],48:[function(b,g,d){g.exports=function(a,c){var f=function(){};f.prototype=c.prototype;a.prototype=new f;a.prototype.constructor=a}},{}],49:[function(b,g,d){function a(f){switch(c(f)){case "object":var e={},h;for(h in f)f.hasOwnProperty(h)&&(e[h]=a(f[h]));return e;case "array":e=Array(f.length);h=0;for(var b=f.length;h<b;h++)e[h]=a(f[h]);return e;case "regexp":return e=""+(f.multiline?"m":""),e+=f.global?"g":"",e+=f.ignoreCase?"i":"",new RegExp(f.source,e);case "date":return new Date(f.getTime());
default:return f}}var c;try{c=b("component-type")}catch(f){c=b("type")}g.exports=a},{"component-type":47,type:47}],41:[function(b,g,d){var a=b("obj-case");g.exports=function(c){function f(c,f){return function(){var b=this.traits(),d=this.properties?this.properties():{};return a(b,"address."+c)||a(b,c)||(f?a(b,"address."+f):null)||(f?a(b,f):null)||a(d,"address."+c)||a(d,c)||(f?a(d,"address."+f):null)||(f?a(d,f):null)}}c.zip=f("postalCode","zip");c.country=f("country");c.street=f("street");c.state=
f("state");c.city=f("city")}},{"obj-case":42}],42:[function(b,g,d){function a(a){return function(c,f,b,d){function g(){for(u in c){var a=q(u);if(0===f.indexOf(a)&&(a=f.substr(a.length),"."===a.charAt(0)||0===a.length)){f=a.substr(1);a=c[u];if(null==a){v=!0;return}if(!f.length){v=!0;return}c=a;return}}u=void 0;v=!0}var q=d&&"function"===typeof d.normalizer?d.normalizer:e;f=q(f);for(var u,v=!1;!v;)g();if(u)return null==c?c:a(c,u,b)}}function c(a,c){a.hasOwnProperty(c)&&delete a[c];return a}function f(a,
c,e){a.hasOwnProperty(c)&&(a[c]=e);return a}function e(a){return a.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}g.exports=a(function(a,c){if(a.hasOwnProperty(c))return a[c]});g.exports.find=g.exports;g.exports.replace=function(c,e,b,d){a(f).call(this,c,e,b,d);return c};g.exports.del=function(e,f,b){a(c).call(this,e,f,null,b);return e}},{}],43:[function(b,g,d){var a=b("is"),c=b("isodate"),f=b("./milliseconds"),e=b("./seconds");g.exports=function(h){if(a.date(h))return h;if(a.number(h)){var b=Date;
return new b(315576E5>h?1E3*h:h)}return c.is(h)?c.parse(h):f.is(h)?f.parse(h):e.is(h)?e.parse(h):new Date(h)}},{is:50,isodate:45,"./milliseconds":51,"./seconds":52}],50:[function(b,g,d){function a(a){return function(e){return a===c(e)}}g=b("is-empty");var c=b("type");b="arguments array boolean date element function null number object regexp string undefined".split(" ");for(var f=0,e;e=b[f];f++)d[e]=a(e);d.fn=d["function"];d.empty=g;d.nan=function(a){return d.number(a)&&a!=a}},{"is-empty":46,type:47}],
51:[function(b,g,d){var a=/\d{13}/;d.is=function(c){return a.test(c)};d.parse=function(a){a=parseInt(a,10);return new Date(a)}},{}],52:[function(b,g,d){var a=/\d{10}/;d.is=function(c){return a.test(c)};d.parse=function(a){a=1E3*parseInt(a,10);return new Date(a)}},{}],32:[function(b,g,d){function a(a){c.call(this,a)}d=b("./utils").inherit;var c=b("./facade");g.exports=a;d(a,c);a.prototype.type=a.prototype.action=function(){return"alias"};a.prototype.from=a.prototype.previousId=function(){return this.field("previousId")||
this.field("from")};a.prototype.to=a.prototype.userId=function(){return this.field("userId")||this.field("to")}},{"./utils":40,"./facade":31}],33:[function(b,g,d){function a(a){e.call(this,a)}d=b("./utils").inherit;b("./address");var c=b("is-email"),f=b("new-date"),e=b("./facade");g.exports=a;d(a,e);a.prototype.type=a.prototype.action=function(){return"group"};a.prototype.groupId=e.field("groupId");a.prototype.created=function(){var a=this.proxy("traits.createdAt")||this.proxy("traits.created")||
this.proxy("properties.createdAt")||this.proxy("properties.created");if(a)return f(a)};a.prototype.email=function(){var a=this.proxy("traits.email");if(a)return a;a=this.groupId();if(c(a))return a};a.prototype.traits=function(a){var c=this.properties(),e=this.groupId();a=a||{};e&&(c.id=e);for(var f in a)e=null==this[f]?this.proxy("traits."+f):this[f](),null!=e&&(c[a[f]]=e,delete c[f]);return c};a.prototype.name=e.proxy("traits.name");a.prototype.industry=e.proxy("traits.industry");a.prototype.employees=
e.proxy("traits.employees");a.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}}},{"./utils":40,"./address":41,"is-email":53,"new-date":43,"./facade":31}],53:[function(b,g,d){g.exports=function(c){return a.test(c)};var a=/.+\@.+\..+/},{}],34:[function(b,g,d){function a(a){c.call(this,a)}b("./address");var c=b("./facade"),f=b("is-email"),e=b("new-date");d=b("./utils");var h=b("obj-case"),l=b("trim");b=d.inherit;var k=d.type;g.exports=a;b(a,c);a.prototype.type=
a.prototype.action=function(){return"identify"};a.prototype.traits=function(a){var c=this.field("traits")||{},e=this.userId();a=a||{};e&&(c.id=e);for(var f in a)e=null==this[f]?this.proxy("traits."+f):this[f](),null!=e&&(c[a[f]]=e,f!==a[f]&&delete c[f]);return c};a.prototype.email=function(){var a=this.proxy("traits.email");if(a)return a;a=this.userId();if(f(a))return a};a.prototype.created=function(){var a=this.proxy("traits.created")||this.proxy("traits.createdAt");if(a)return e(a)};a.prototype.companyCreated=
function(){var a=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(a)return e(a)};a.prototype.name=function(){var a=this.proxy("traits.name");if("string"===typeof a)return l(a);var a=this.firstName(),c=this.lastName();if(a&&c)return l(a+" "+c)};a.prototype.firstName=function(){var a=this.proxy("traits.firstName");if("string"===typeof a)return l(a);a=this.proxy("traits.name");if("string"===typeof a)return l(a).split(" ")[0]};a.prototype.lastName=function(){var a=this.proxy("traits.lastName");
if("string"===typeof a)return l(a);a=this.proxy("traits.name");if("string"===typeof a){var c=l(a).indexOf(" ");if(-1!==c)return l(a.substr(c+1))}};a.prototype.uid=function(){return this.userId()||this.username()||this.email()};a.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};a.prototype.age=function(){var a=this.birthday(),c=h(this.traits(),"age");if(null!=c)return c;if("date"==k(a))return(new Date).getFullYear()-a.getFullYear()};a.prototype.avatar=
function(){var a=this.traits();return h(a,"avatar")||h(a,"photoUrl")||h(a,"avatarUrl")};a.prototype.position=function(){var a=this.traits();return h(a,"position")||h(a,"jobTitle")};a.prototype.username=c.proxy("traits.username");a.prototype.website=c.one("traits.website");a.prototype.websites=c.multi("traits.website");a.prototype.phone=c.one("traits.phone");a.prototype.phones=c.multi("traits.phone");a.prototype.address=c.proxy("traits.address");a.prototype.gender=c.proxy("traits.gender");a.prototype.birthday=
c.proxy("traits.birthday")},{"./address":41,"./facade":31,"is-email":53,"new-date":43,"./utils":40,"obj-case":42,trim:54}],54:[function(b,g,d){d=g.exports=function(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")};d.left=function(a){return a.trimLeft?a.trimLeft():a.replace(/^\s*/,"")};d.right=function(a){return a.trimRight?a.trimRight():a.replace(/\s*$/,"")}},{}],35:[function(b,g,d){function a(a){f.call(this,a)}d=b("./utils").inherit;b("./utils");var c=b("./utils").type,f=b("./facade"),e=b("./identify"),
h=b("is-email"),l=b("obj-case");g.exports=a;d(a,f);a.prototype.type=a.prototype.action=function(){return"track"};a.prototype.event=f.field("event");a.prototype.value=f.proxy("properties.value");a.prototype.category=f.proxy("properties.category");a.prototype.id=f.proxy("properties.id");a.prototype.sku=f.proxy("properties.sku");a.prototype.tax=f.proxy("properties.tax");a.prototype.name=f.proxy("properties.name");a.prototype.price=f.proxy("properties.price");a.prototype.total=f.proxy("properties.total");
a.prototype.coupon=f.proxy("properties.coupon");a.prototype.shipping=f.proxy("properties.shipping");a.prototype.discount=f.proxy("properties.discount");a.prototype.description=f.proxy("properties.description");a.prototype.plan=f.proxy("properties.plan");a.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.orderId")};a.prototype.subtotal=function(){var a=l(this.properties(),"subtotal"),c=this.total();if(a)return a;if(!c)return 0;if(a=this.tax())c-=a;if(a=this.shipping())c-=
a;if(a=this.discount())c+=a;return c};a.prototype.products=function(){var a=this.properties(),a=l(a,"products");return"array"==c(a)?a:[]};a.prototype.quantity=function(){return(this.obj.properties||{}).quantity||1};a.prototype.currency=function(){return(this.obj.properties||{}).currency||"USD"};a.prototype.referrer=f.proxy("properties.referrer");a.prototype.query=f.proxy("options.query");a.prototype.properties=function(a){var c=this.field("properties")||{};a=a||{};for(var e in a){var f=null==this[e]?
this.proxy("properties."+e):this[e]();null!=f&&(c[a[e]]=f,delete c[e])}return c};a.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};a.prototype.email=function(){var a=this.proxy("traits.email");if(a=a||this.proxy("properties.email"))return a;a=this.userId();if(h(a))return a};a.prototype.revenue=function(){var a=this.proxy("properties.revenue"),c=this.event();!a&&c&&c.match(/completed ?order/i)&&(a=this.proxy("properties.total"));
a:{if(a){if("number"===typeof a)break a;if("string"===typeof a&&(a=a.replace(/\$/g,""),a=parseFloat(a),!isNaN(a)))break a}a=void 0}return a};a.prototype.cents=function(){var a=this.revenue();return"number"!=typeof a?this.value()||0:100*a};a.prototype.identify=function(){var a=this.json();a.traits=this.traits();return new e(a)}},{"./utils":40,"./facade":31,"./identify":34,"is-email":53,"obj-case":42}],36:[function(b,g,d){function a(a){c.call(this,a)}d=b("./utils").inherit;var c=b("./facade"),f=b("./track");
g.exports=a;d(a,c);a.prototype.type=a.prototype.action=function(){return"page"};a.prototype.category=c.field("category");a.prototype.name=c.field("name");a.prototype.title=c.proxy("properties.title");a.prototype.path=c.proxy("properties.path");a.prototype.url=c.proxy("properties.url");a.prototype.referrer=function(){return this.proxy("properties.referrer")||this.proxy("context.referrer.url")};a.prototype.properties=function(a){var c=this.field("properties")||{},f=this.category(),b=this.name();a=a||
{};f&&(c.category=f);b&&(c.name=b);for(var d in a)f=null==this[d]?this.proxy("properties."+d):this[d](),null!=f&&(c[a[d]]=f,d!==a[d]&&delete c[d]);return c};a.prototype.fullName=function(){var a=this.category(),c=this.name();return c&&a?a+" "+c:c};a.prototype.event=function(a){return a?"Viewed "+a+" Page":"Loaded a Page"};a.prototype.track=function(a){var c=this.properties();return new f({event:this.event(a),timestamp:this.timestamp(),context:this.context(),properties:c})}},{"./utils":40,"./facade":31,
"./track":35}],37:[function(b,g,d){function a(a){c.call(this,a)}d=b("./utils").inherit;var c=b("./page"),f=b("./track");g.exports=a;d(a,c);a.prototype.type=a.prototype.action=function(){return"screen"};a.prototype.event=function(a){return a?"Viewed "+a+" Screen":"Loaded a Screen"};a.prototype.track=function(a){var c=this.properties();return new f({event:this.event(a),timestamp:this.timestamp(),context:this.context(),properties:c})}},{"./utils":40,"./page":36,"./track":35}],9:[function(b,g,d){g.exports=
function(a,c){return 0>=a?c():function(){if(1>--a)return c.apply(this,arguments)}}},{}],10:[function(b,g,d){try{var a=b("bind")}catch(c){a=b("bind-component")}b=b("bind-all");g.exports=d=a;d.all=b;d.methods=function(c,f){f=[].slice.call(arguments,1);for(var e=0,b;b=f[e];e++)c[b]=a(c,c[b]);return c}},{bind:55,"bind-all":56}],55:[function(b,g,d){var a=[].slice;g.exports=function(c,f){"string"==typeof f&&(f=c[f]);if("function"!=typeof f)throw Error("bind() requires a function");var e=a.call(arguments,
2);return function(){return f.apply(c,e.concat(a.call(arguments)))}}},{}],56:[function(b,g,d){try{var a=b("bind"),c=b("type")}catch(f){a=b("bind-component"),c=b("type-component")}g.exports=function(f){for(var e in f)"function"===c(f[e])&&(f[e]=a(f,f[e]));return f}},{bind:55,type:47}],11:[function(b,g,d){function a(a){"function"===typeof a&&a()}var c=b("next-tick");g.exports=a;a.async=function(a,e){if("function"===typeof a){if(!e)return c(a);setTimeout(a,e)}};a.sync=a},{"next-tick":57}],57:[function(b,
g,d){if("function"==typeof setImmediate)g.exports=function(a){setImmediate(a)};else if("undefined"!=typeof process&&"function"==typeof process.nextTick)g.exports=process.nextTick;else if("undefined"==typeof window||window.ActiveXObject||!window.postMessage)g.exports=function(a){setTimeout(a)};else{var a=[];window.addEventListener("message",function(){for(var c=0;c<a.length;)try{a[c++]()}catch(f){throw a=a.slice(c),window.postMessage("tic!","*"),f;}a.length=0},!0);g.exports=function(c){a.length||window.postMessage("tic!",
"*");a.push(c)}}},{}],12:[function(b,g,d){function a(f){switch(c(f)){case "object":var e={},b;for(b in f)f.hasOwnProperty(b)&&(e[b]=a(f[b]));return e;case "array":e=Array(f.length);b=0;for(var d=f.length;b<d;b++)e[b]=a(f[b]);return e;case "regexp":return e=""+(f.multiline?"m":""),e+=f.global?"g":"",e+=f.ignoreCase?"i":"",new RegExp(f.source,e);case "date":return new Date(f.getTime());default:return f}}var c;try{c=b("type")}catch(f){c=b("type-component")}g.exports=a},{type:47}],13:[function(b,g,d){function a(a){this.options(a)}
d=b("bind");var c=b("clone"),f=b("cookie"),e=b("debug")("analytics.js:cookie"),h=b("defaults"),l=b("json"),k=b("top-domain");a.prototype.options=function(a){if(0===arguments.length)return this._options;a=a||{};var c="."+k(window.location.href);"."===c&&(c=null);this._options=h(a,{maxage:31536E6,path:"/",domain:c});this.set("ajs:test",!0);this.get("ajs:test")||(e("fallback to domain=null"),this._options.domain=null);this.remove("ajs:test")};a.prototype.set=function(a,e){try{return e=l.stringify(e),
f(a,e,c(this._options)),!0}catch(b){return!1}};a.prototype.get=function(a){try{var c=f(a);return c=c?l.parse(c):null}catch(e){return null}};a.prototype.remove=function(a){try{return f(a,null,c(this._options)),!0}catch(e){return!1}};g.exports=d.all(new a);g.exports.Cookie=a},{bind:10,clone:12,cookie:58,debug:14,defaults:15,json:59,"top-domain":60}],58:[function(b,g,d){function a(a){var c={};a=a.split(/ *; */);var e;if(""==a[0])return c;for(var b=0;b<a.length;++b)e=a[b].split("="),c[f(e[0])]=f(e[1]);
return c}function c(a){try{return encodeURIComponent(a)}catch(c){e("error `encode(%o)` - %o",a,c)}}function f(a){try{return decodeURIComponent(a)}catch(c){e("error `decode(%o)` - %o",a,c)}}var e=b("debug")("cookie");g.exports=function(e,f,b){switch(arguments.length){case 3:case 2:var d;d=b||{};var g=c(e)+"="+c(f);null==f&&(d.maxage=-1);d.maxage&&(d.expires=new Date(+new Date+d.maxage));d.path&&(g+="; path="+d.path);d.domain&&(g+="; domain="+d.domain);d.expires&&(g+="; expires="+d.expires.toUTCString());
d.secure&&(g+="; secure");document.cookie=g;break;case 1:return a(document.cookie)[e];default:return a(document.cookie)}}},{debug:61}],61:[function(b,g,d){function a(){var a;try{a=d.storage.debug}catch(c){}return a}d=g.exports=b("./debug");d.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};d.formatArgs=function(){var a=arguments,c=this.useColors;a[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+a[0]+(c?"%c ":" ")+"+"+d.humanize(this.diff);
if(!c)return a;var c="color: "+this.color,a=[a[0],c,"color: inherit"].concat(Array.prototype.slice.call(a,1)),b=0,g=0;a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(b++,"%c"===a&&(g=b))});a.splice(g,0,c);return a};d.save=function(a){try{null==a?d.storage.removeItem("debug"):d.storage.debug=a}catch(c){}};d.load=a;d.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&
31<=parseInt(RegExp.$1,10)};var c;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)c=chrome.storage.local;else a:{try{c=window.localStorage;break a}catch(f){}c=void 0}d.storage=c;d.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");d.formatters.j=function(a){return JSON.stringify(a)};d.enable(a())},{"./debug":62}],62:[function(b,g,d){d=g.exports=function(f){function e(){}function b(){var e=+new Date;b.diff=e-(c||e);b.prev=c;c=b.curr=e;null==b.useColors&&
(b.useColors=d.useColors());null==b.color&&b.useColors&&(b.color=d.colors[a++%d.colors.length]);var f=Array.prototype.slice.call(arguments);f[0]=d.coerce(f[0]);"string"!==typeof f[0]&&(f=["%o"].concat(f));var g=0;f[0]=f[0].replace(/%([a-z%])/g,function(a,c){if("%%"===a)return a;g++;var e=d.formatters[c];"function"===typeof e&&(a=e.call(b,f[g]),f.splice(g,1),g--);return a});"function"===typeof d.formatArgs&&(f=d.formatArgs.apply(b,f));(b.log||d.log||console.log.bind(console)).apply(b,f)}e.enabled=
!1;b.enabled=!0;var g=d.enabled(f)?b:e;g.namespace=f;return g};d.coerce=function(a){return a instanceof Error?a.stack||a.message:a};d.disable=function(){d.enable("")};d.enable=function(a){d.save(a);for(var c=(a||"").split(/[\s,]+/),b=c.length,g=0;g<b;g++)c[g]&&(a=c[g].replace(/\*/g,".*?"),"-"===a[0]?d.skips.push(new RegExp("^"+a.substr(1)+"$")):d.names.push(new RegExp("^"+a+"$")))};d.enabled=function(a){var c,b;c=0;for(b=d.skips.length;c<b;c++)if(d.skips[c].test(a))return!1;c=0;for(b=d.names.length;c<
b;c++)if(d.names[c].test(a))return!0;return!1};d.humanize=b("ms");d.names=[];d.skips=[];d.formatters={};var a=0,c},{ms:63}],63:[function(b,g,d){function a(a){a=""+a;if(!(1E4<a.length)&&(a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a))){var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*c;case "days":case "day":case "d":return 864E5*c;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*
c;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*c;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*c;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return c}}}function c(a,c,b){if(!(a<c))return a<1.5*c?Math.floor(a/c)+" "+b:Math.ceil(a/c)+" "+b+"s"}g.exports=function(f,e){e=e||{};return"string"==typeof f?a(f):e.long?c(f,864E5,"day")||c(f,36E5,"hour")||c(f,6E4,"minute")||c(f,1E3,"second")||f+" ms":864E5<=f?Math.round(f/864E5)+
"d":36E5<=f?Math.round(f/36E5)+"h":6E4<=f?Math.round(f/6E4)+"m":1E3<=f?Math.round(f/1E3)+"s":f+"ms"}},{}],14:[function(b,g,d){g.exports="undefined"==typeof window?b("./lib/debug"):b("./debug")},{"./lib/debug":64,"./debug":65}],64:[function(b,g,d){b=b("tty");g.exports=function(b){function d(){}function g(a){a=a instanceof Error?a.stack||a.message:a;var c=new Date,f=c-(e[b]||c);e[b]=c;c="  \u001b[9"+u+"m"+b+" \u001b[3"+u+"m\u001b[90m"+a+"\u001b[3"+u+"m +";f=36E5<=f?(f/36E5).toFixed(1)+"h":6E4<=f?(f/
6E4).toFixed(1)+"m":1E3<=f?(f/1E3|0)+"s":f+"ms";a=c+f+"\u001b[0m";console.error.apply(this,arguments)}function w(a){a=a instanceof Error?a.stack||a.message:a;a=(new Date).toUTCString()+" "+b+" "+a;console.error.apply(this,arguments)}d.enabled=!1;var q=c.some(function(a){return a.test(b)});if(q)return d;q=a.some(function(a){return a.test(b)});if(!q)return d;var u=f[h++%f.length];g.enabled=w.enabled=!0;return l||process.env.DEBUG_COLORS?g:w};var a=[],c=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(e){e=
e.replace("*",".*?");"-"===e[0]?c.push(new RegExp("^"+e.substr(1)+"$")):a.push(new RegExp("^"+e+"$"))});var f=[6,2,3,4,5,1],e={},h=0,l=b.isatty(2)},{}],65:[function(b,g,d){function a(c){return a.enabled(c)?function(f){f instanceof Error&&(f=f.stack||f.message);var e=new Date,b=e-(a[c]||e);a[c]=e;f=c+" "+f+" +"+a.humanize(b);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}g.exports=a;a.names=[];a.skips=[];a.enable=function(c){try{localStorage.debug=
c}catch(b){}for(var f=(c||"").split(/[\s,]+/),e=f.length,d=0;d<e;d++)c=f[d].replace("*",".*?"),"-"===c[0]?a.skips.push(new RegExp("^"+c.substr(1)+"$")):a.names.push(new RegExp("^"+c+"$"))};a.disable=function(){a.enable("")};a.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};a.enabled=function(c){for(var f=0,e=a.skips.length;f<e;f++)if(a.skips[f].test(c))return!1;f=0;for(e=a.names.length;f<e;f++)if(a.names[f].test(c))return!0;return!1};
try{window.localStorage&&a.enable(localStorage.debug)}catch(c){}},{}],15:[function(b,g,d){var a=function(c,f,e){for(var b in f)e&&c[b]instanceof Object&&f[b]instanceof Object?c[b]=a(c[b],f[b],!0):b in c||(c[b]=f[b]);return c};g.exports=a},{}],59:[function(b,g,d){d=window.JSON||{};var a=d.stringify;g.exports=d.parse&&a?JSON:b("json-fallback")},{"json-fallback":66}],66:[function(b,g,d){(function(){function a(a){return 10>a?"0"+a:a}function c(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var c=
p[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a,e){var b,d,h,g,l=k,p,t=e[a];t&&"object"===typeof t&&"function"===typeof t.toJSON&&(t=t.toJSON(a));"function"===typeof w&&(t=w.call(e,a,t));switch(typeof t){case "string":return c(t);case "number":return isFinite(t)?String(t):"null";case "boolean":case "null":return String(t);case "object":if(!t)return"null";k+=m;p=[];if("[object Array]"===Object.prototype.toString.apply(t)){g=t.length;
for(b=0;b<g;b+=1)p[b]=f(b,t)||"null";h=0===p.length?"[]":k?"[\n"+k+p.join(",\n"+k)+"\n"+l+"]":"["+p.join(",")+"]";k=l;return h}if(w&&"object"===typeof w)for(g=w.length,b=0;b<g;b+=1)"string"===typeof w[b]&&(d=w[b],(h=f(d,t))&&p.push(c(d)+(k?": ":":")+h));else for(d in t)Object.prototype.hasOwnProperty.call(t,d)&&(h=f(d,t))&&p.push(c(d)+(k?": ":":")+h);h=0===p.length?"{}":k?"{\n"+k+p.join(",\n"+k)+"\n"+l+"}":"{"+p.join(",")+"}";k=l;return h}}var e=g.exports={};"function"!==typeof Date.prototype.toJSON&&
(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var b,d,k,m,p,w;"function"!==typeof e.stringify&&(d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
p={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e.stringify=function(a,c,e){var b;m=k="";if("number"===typeof e)for(b=0;b<e;b+=1)m+=" ";else"string"===typeof e&&(m=e);if((w=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return f("",{"":a})});"function"!==typeof e.parse&&(b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e.parse=function(a,c){function e(a,
f){var b,d,h=a[f];if(h&&"object"===typeof h)for(b in h)Object.prototype.hasOwnProperty.call(h,b)&&(d=e(h,b),void 0!==d?h[b]=d:delete h[b]);return c.call(a,f,h)}var f;a=String(a);b.lastIndex=0;b.test(a)&&(a=a.replace(b,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+
a+")"),"function"===typeof c?e({"":f},""):f;throw new SyntaxError("JSON.parse");})})()},{}],60:[function(b,g,d){function a(a){var c=d.cookie;a=d.levels(a);for(var b=0;b<a.length;++b){var g=a[b],k={domain:"."+g};c("__tld__",1,k);if(c("__tld__"))return c("__tld__",null,k),g}return""}var c=b("url").parse;b=b("cookie");d=g.exports=a;d.cookie=b;a.levels=function(a){a=c(a).hostname.split(".");var e=a[a.length-1],b=[];if(4==a.length&&parseInt(e,10)==e||1>=a.length)return b;for(e=a.length-2;0<=e;--e)b.push(a.slice(e).join("."));
return b}},{url:67,cookie:68}],67:[function(b,g,d){d.parse=function(a){var c=document.createElement("a");c.href=a;a=c.href;var b=c.host||location.host,e;if("0"===c.port||""===c.port)a:switch(c.protocol){case "http:":e=80;break a;case "https:":e=443;break a;default:e=location.port}else e=c.port;return{href:a,host:b,port:e,hash:c.hash,hostname:c.hostname||location.hostname,pathname:"/"!=c.pathname.charAt(0)?"/"+c.pathname:c.pathname,protocol:c.protocol&&":"!=c.protocol?c.protocol:location.protocol,
search:c.search,query:c.search.slice(1)}};d.isAbsolute=function(a){return 0==a.indexOf("//")||!!~a.indexOf("://")};d.isRelative=function(a){return!d.isAbsolute(a)};d.isCrossDomain=function(a){a=d.parse(a);var c=d.parse(window.location.href);return a.hostname!==c.hostname||a.port!==c.port||a.protocol!==c.protocol}},{}],68:[function(b,g,d){function a(){var a;try{a=document.cookie}catch(c){return"undefined"!==typeof console&&"function"===typeof console.error&&console.error(c.stack||c),{}}var e={};a=
a.split(/ *; */);var b;if(""!=a[0])for(var d=0;d<a.length;++d)b=a[d].split("="),e[f(b[0])]=f(b[1]);return e}function c(a){try{return encodeURIComponent(a)}catch(c){e("error `encode(%o)` - %o",a,c)}}function f(a){try{return decodeURIComponent(a)}catch(c){e("error `decode(%o)` - %o",a,c)}}var e=b("debug")("cookie");g.exports=function(e,b,f){switch(arguments.length){case 3:case 2:var d;d=f||{};var g=c(e)+"="+c(b);null==b&&(d.maxage=-1);d.maxage&&(d.expires=new Date(+new Date+d.maxage));d.path&&(g+="; path="+
d.path);d.domain&&(g+="; domain="+d.domain);d.expires&&(g+="; expires="+d.expires.toUTCString());d.secure&&(g+="; secure");document.cookie=g;break;case 1:return a()[e];default:return a()}}},{debug:14}],16:[function(b,g,d){var a;try{a=b("@ndhoule/each")}catch(c){a=b("each")}g.exports=function(c,b,e){if("function"!==typeof c)throw new TypeError("Expected a function but received a "+typeof c);a(function(a,e,d){b=c(b,a,e,d)},e);return b}},{each:69}],69:[function(b,g,d){var a;try{a=b("@ndhoule/keys")}catch(k){a=
b("keys")}var c=Object.prototype.toString,f=function(a){var e=typeof a;return"number"===e||"object"===e&&"[object Number]"===c.call(a)},e="function"===typeof Array.isArray?Array.isArray:function(a){return"[object Array]"===c.call(a)},h=function(a,c){for(var e=0;e<c.length&&!1!==a(c[e],e,c);e+=1);},l=function(c,e){for(var b=a(e),f=0;f<b.length&&!1!==c(e[b[f]],b[f],e);f+=1);};g.exports=function(a,c){return(null!=c&&(e(c)||"function"!==c&&f(c.length))?h:l).call(this,a,c)}},{keys:70}],70:[function(b,
g,d){var a=String.prototype.charAt,c=function(c,e){return a.call(c,e)},f=Object.prototype.hasOwnProperty,e=Object.prototype.toString,h=function(a,c){return f.call(a,c)},l=function(a,c){c=c||h;for(var e=[],b=0,f=a.length;b<f;b+=1)c(a,b)&&e.push(String(b));return e};g.exports=function(a){if(null==a)return[];if("[object String]"===e.call(a))return l(a,c);if(null!=a&&"function"!==typeof a&&"number"===typeof a.length)return l(a,h);var b;b=h;var f=[],d;for(d in a)b(a,d)&&f.push(String(d));return f}},{}],
17:[function(b,g,d){function a(e){this.defaults=a.defaults;this.debug=f;c.call(this,e)}var c=b("./entity");d=b("bind");var f=b("debug")("analytics:group");b=b("inherit");a.defaults={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}};b(a,c);g.exports=d.all(new a);g.exports.Group=a},{"./entity":71,bind:10,debug:14,inherit:72}],71:[function(b,g,d){function a(a){this.options(a);this.initialize()}var c=b("clone"),f=b("./cookie"),e=b("debug")("analytics:entity"),h=b("defaults"),
l=b("extend"),k=b("./memory"),m=b("./store"),p=b("isodate-traverse");g.exports=a;a.prototype.initialize=function(){f.set("ajs:cookies",!0);f.get("ajs:cookies")?(f.remove("ajs:cookies"),this._storage=f):m.enabled?this._storage=m:(e("warning using memory store both cookies and localStorage are disabled"),this._storage=k)};a.prototype.storage=function(){return this._storage};a.prototype.options=function(a){if(0===arguments.length)return this._options;this._options=h(a||{},this.defaults||{})};a.prototype.id=
function(a){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(a)}};a.prototype._getId=function(){var a=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return void 0===a?null:a};a.prototype._setId=function(a){this._options.persist?this.storage().set(this._options.cookie.key,a):this._id=a};a.prototype.properties=a.prototype.traits=function(a){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(a)}};a.prototype._getTraits=
function(){var a=this._options.persist?m.get(this._options.localStorage.key):this._traits;return a?p(c(a)):{}};a.prototype._setTraits=function(a){a=a||{};this._options.persist?m.set(this._options.localStorage.key,a):this._traits=a};a.prototype.identify=function(a,c){c=c||{};var e=this.id();if(null===e||e===a)c=l(this.traits(),c);a&&this.id(a);this.debug("identify %o, %o",a,c);this.traits(c);this.save()};a.prototype.save=function(){if(!this._options.persist)return!1;f.set(this._options.cookie.key,
this.id());m.set(this._options.localStorage.key,this.traits());return!0};a.prototype.logout=function(){this.id(null);this.traits({});f.remove(this._options.cookie.key);m.remove(this._options.localStorage.key)};a.prototype.reset=function(){this.logout();this.options({})};a.prototype.load=function(){this.id(f.get(this._options.cookie.key));this.traits(m.get(this._options.localStorage.key))}},{clone:12,"./cookie":13,debug:14,defaults:15,extend:73,"./memory":21,"./store":28,"isodate-traverse":38}],73:[function(b,
g,d){g.exports=function(a){for(var c=Array.prototype.slice.call(arguments,1),b=0,e;e=c[b];b++)if(e)for(var d in e)a[d]=e[d];return a}},{}],21:[function(b,g,d){function a(){this.store={}}d=b("bind");var c=b("clone"),f=Object.prototype.hasOwnProperty;g.exports=d.all(new a);a.prototype.set=function(a,b){this.store[a]=c(b);return!0};a.prototype.get=function(a){if(f.call(this.store,a))return c(this.store[a])};a.prototype.remove=function(a){delete this.store[a];return!0}},{bind:10,clone:12}],28:[function(b,
g,d){function a(a){this.options(a)}d=b("bind");var c=b("defaults"),f=b("store.js");a.prototype.options=function(a){if(0===arguments.length)return this._options;a=a||{};c(a,{enabled:!0});this.enabled=a.enabled&&f.enabled;this._options=a};a.prototype.set=function(a,c){return this.enabled?f.set(a,c):!1};a.prototype.get=function(a){return this.enabled?f.get(a):null};a.prototype.remove=function(a){return this.enabled?f.remove(a):!1};g.exports=d.all(new a);g.exports.Store=a},{bind:10,defaults:15,"store.js":74}],
74:[function(b,g,d){var a=b("json"),c={};d=window;b=d.document;var f;c.disabled=!1;c.set=function(a,c){};c.get=function(a){};c.remove=function(a){};c.clear=function(){};c.transact=function(a,b,e){var f=c.get(a);null==e&&(e=b,b=null);"undefined"==typeof f&&(f=b||{});e(f);c.set(a,f)};c.getAll=function(){};c.serialize=function(c){return a.stringify(c)};c.deserialize=function(c){if("string"==typeof c)try{return a.parse(c)}catch(b){return c||void 0}};var e;try{e="localStorage"in d&&d.localStorage}catch(m){e=
!1}if(e)f=d.localStorage,c.set=function(a,b){if(void 0===b)return c.remove(a);f.setItem(a,c.serialize(b));return b},c.get=function(a){return c.deserialize(f.getItem(a))},c.remove=function(a){f.removeItem(a)},c.clear=function(){f.clear()},c.getAll=function(){for(var a={},b=0;b<f.length;++b){var e=f.key(b);a[e]=c.get(e)}return a};else if(b.documentElement.addBehavior){e=function(a){return function(){var b=Array.prototype.slice.call(arguments,0);b.unshift(f);h.appendChild(f);f.addBehavior("#default#userData");
f.load("localStorage");b=a.apply(c,b);h.removeChild(f);return b}};var h,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></iframe>'),l.close(),h=l.w.frames[0].document,f=h.createElement("div")}catch(m){f=b.createElement("div"),h=b.body}var k=/[!"#$%&'()*+,/\\:;<=>?@[\]^`{|}~]/g;c.set=e(function(a,b,e){b=b.replace(k,"___");if(void 0===e)return c.remove(b);a.setAttribute(b,c.serialize(e));a.save("localStorage");return e});c.get=
e(function(a,b){b=b.replace(k,"___");return c.deserialize(a.getAttribute(b))});c.remove=e(function(a,c){c=c.replace(k,"___");a.removeAttribute(c);a.save("localStorage")});c.clear=e(function(a){var c=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var b=0,e;e=c[b];b++)a.removeAttribute(e.name);a.save("localStorage")});c.getAll=e(function(a){for(var b=a.XMLDocument.documentElement.attributes,e={},f=0,d;d=b[f];++f){var h=d.name.replace(k,"___");e[d.name]=c.deserialize(a.getAttribute(h))}return e})}try{c.set("__storejs__",
"__storejs__"),"__storejs__"!=c.get("__storejs__")&&(c.disabled=!0),c.remove("__storejs__")}catch(m){c.disabled=!0}c.enabled=!c.disabled;g.exports=c},{json:59}],72:[function(b,g,d){g.exports=function(a,c){var b=function(){};b.prototype=c.prototype;a.prototype=new b;a.prototype.constructor=a}},{}],18:[function(b,g,d){function a(a){return function(b){return a===c(b)}}g=b("is-empty");try{var c=b("type")}catch(h){c=b("component-type")}b="arguments array boolean date element function null number object regexp string undefined".split(" ");
for(var f=0,e;e=b[f];f++)d[e]=a(e);d.fn=d["function"];d.empty=g;d.nan=function(a){return d.number(a)&&a!=a}},{"is-empty":46,type:47,"component-type":47}],19:[function(b,g,d){g.exports=function(a){if(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)return!0;var c=a.which;a=a.button;return c||void 0===a?2===c?!0:!1:!a&1&&!a&2&&a&4}},{}],20:[function(b,g,d){var a=Object.prototype.hasOwnProperty;d.keys=Object.keys||function(c){var b=[],e;for(e in c)a.call(c,e)&&b.push(e);return b};d.values=function(c){var b=
[],e;for(e in c)a.call(c,e)&&b.push(c[e]);return b};d.merge=function(c,b){for(var e in b)a.call(b,e)&&(c[e]=b[e]);return c};d.length=function(a){return d.keys(a).length};d.isEmpty=function(a){return 0==d.length(a)}},{}],22:[function(b,g,d){var a=b("debug")("analytics.js:normalize"),c=b("defaults"),f=b("each"),e=b("includes"),h=b("is"),l=b("component/map"),k=Object.prototype.hasOwnProperty;g.exports=function(b,d){function g(a){return!(!e(a,d)&&"all"!==a.toLowerCase()&&!e(a.toLowerCase(),u))}var u=
l(d,function(a){return a.toLowerCase()}),v=b.options||{},n=v.integrations||{},z=v.providers||{},x=v.context||{},y={};a("<-",b);f(v,function(a,c){g(a)&&(k.call(n,a)||(n[a]=c),delete v[a])});delete v.providers;f(z,function(a,c){g(a)&&(h.object(n[a])||k.call(n,a)&&"boolean"===typeof z[a]||(n[a]=c))});f(v,function(a){e(a,m)?y[a]=v[a]:x[a]=v[a]});delete b.options;y.integrations=n;y.context=x;y=c(y,b);a("->",y);return y};var m=["integrations","anonymousId","timestamp","context"]},{debug:14,defaults:15,
each:4,includes:75,is:18,"component/map":76}],75:[function(b,g,d){var a;try{a=b("@ndhoule/each")}catch(f){a=b("each")}var c=String.prototype.indexOf;g.exports=function(b,e){var d=!1;if("string"===typeof e)return-1!==c.call(e,b);a(function(a){a=a===b?0!==a||1/a===1/b:a!==a&&b!==b;if(a)return d=!0,!1},e);return d}},{each:69}],76:[function(b,g,d){var a=b("to-function");g.exports=function(c,b){var e=[];b=a(b);for(var d=0;d<c.length;++d)e.push(b(c[d],d));return e}},{"to-function":77}],77:[function(b,g,
d){function a(a){switch({}.toString.call(a)){case "[object Object]":return e(a);case "[object Function]":return a;case "[object String]":var b;if(/^ *\W+/.test(a))b=new Function("_","return _ "+a);else{b=Function;var d=l(a);if(d.length){var g,q,u;for(q=0;q<d.length;q++)u=d[q],g="_."+u,g="('function' == typeof "+g+" ? "+g+"() : "+g+")",a=h(u,a,g)}else a="_."+a;b=new b("_","return "+a)}return b;case "[object RegExp]":return f(a);default:return c(a)}}function c(a){return function(c){return a===c}}function f(a){return function(c){return a.test(c)}}
function e(b){var e={},f;for(f in b)e[f]="string"===typeof b[f]?c(b[f]):a(b[f]);return function(a){if("object"!==typeof a)return!1;for(var c in e)if(!(c in a&&e[c](a[c])))return!1;return!0}}function h(a,c,b){return c.replace(new RegExp("(\\.)?"+a,"g"),function(a,c){return c?a:b})}var l;try{l=b("props")}catch(k){l=b("component-props")}g.exports=a},{props:78,"component-props":78}],78:[function(b,g,d){function a(a,c,b){return a.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,function(a){return"("==
a[a.length-1]?b(a):~c.indexOf(a)?b(a):a})}function c(a){return function(c){return a+c}}var f=/\b(this|Array|Date|Object|Math|JSON)\b/g;g.exports=function(b,d){for(var g=b.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(f,"").match(/[$a-zA-Z_]\w*/g)||[],k=[],m=0;m<g.length;m++)~k.indexOf(g[m])||k.push(g[m]);d&&"string"==typeof d&&(d=c(d));return d?a(b,k,d):k}},{}],23:[function(b,g,d){d.bind=function(a,c,b,e){a.addEventListener?a.addEventListener(c,b,e||!1):a.attachEvent("on"+c,b);
return b};d.unbind=function(a,c,b,e){a.removeEventListener?a.removeEventListener(c,b,e||!1):a.detachEvent("on"+c,b);return b}},{}],24:[function(b,g,d){var a=b("canonical"),c=b("includes"),f=b("url");g.exports=function(){var b;b=(b=a())?f.parse(b).pathname:window.location.pathname;var d=document.referrer,g=location.search,k=document.title,m;m=location.search;var p=a();p?m=c("?",p)?p:p+m:(m=window.location.href,p=m.indexOf("#"),m=-1===p?m:m.slice(0,p));return{path:b,referrer:d,search:g,title:k,url:m}}},
{canonical:79,includes:75,url:80}],79:[function(b,g,d){g.exports=function(){for(var a=document.getElementsByTagName("link"),c=0,b;b=a[c];c++)if("canonical"==b.getAttribute("rel"))return b.getAttribute("href")}},{}],80:[function(b,g,d){d.parse=function(a){var c=document.createElement("a");c.href=a;a=c.href;var b=c.host||location.host,e;if("0"===c.port||""===c.port)a:switch(c.protocol){case "http:":e=80;break a;case "https:":e=443;break a;default:e=location.port}else e=c.port;return{href:a,host:b,port:e,
hash:c.hash,hostname:c.hostname||location.hostname,pathname:"/"!=c.pathname.charAt(0)?"/"+c.pathname:c.pathname,protocol:c.protocol&&":"!=c.protocol?c.protocol:location.protocol,search:c.search,query:c.search.slice(1)}};d.isAbsolute=function(a){return 0==a.indexOf("//")||!!~a.indexOf("://")};d.isRelative=function(a){return!d.isAbsolute(a)};d.isCrossDomain=function(a){a=d.parse(a);var c=d.parse(window.location.href);return a.hostname!==c.hostname||a.port!==c.port||a.protocol!==c.protocol}},{}],25:[function(b,
g,d){var a=Object.prototype.toString,c=function(c){return"string"===typeof c||"[object String]"===a.call(c)};g.exports=function(b,e){if(null==e||null==e||"object"!==typeof e)return{};c(b)&&(b=[b]);"[object Array]"!==a.call(b)&&(b=[]);for(var d={},g=0;g<b.length;g+=1)c(b[g])&&b[g]in e&&(d[b[g]]=e[b[g]]);return d}},{}],26:[function(b,g,d){g.exports=function(a){a=a||window.event;return a.preventDefault?a.preventDefault():a.returnValue=!1}},{}],27:[function(b,g,d){var a=b("trim"),c=b("type"),f=/(\w+)\[(\d+)\]/,
e=function(a){try{return encodeURIComponent(a)}catch(c){return a}},h=function(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(c){return a}};d.parse=function(c){if("string"!=typeof c)return{};c=a(c);if(""==c)return{};"?"==c.charAt(0)&&(c=c.slice(1));var b={};c=c.split("&");for(var e=0;e<c.length;e++){var d=c[e].split("="),g=h(d[0]);(g=f.exec(g))?(b[g[1]]=b[g[1]]||[],b[g[1]][g[2]]=h(d[1])):b[d[0]]=null==d[1]?"":h(d[1])}return b};d.stringify=function(a){if(!a)return"";var b=[],f;for(f in a){var d=
a[f];if("array"==c(d))for(var h=0;h<d.length;++h)b.push(e(f+"["+h+"]")+"="+e(d[h]));else b.push(e(f)+"="+e(a[f]))}return b.join("&")}},{trim:54,type:81}],81:[function(b,g,d){var a=Object.prototype.toString;g.exports=function(c){switch(a.call(c)){case "[object Date]":return"date";case "[object RegExp]":return"regexp";case "[object Arguments]":return"arguments";case "[object Array]":return"array";case "[object Error]":return"error"}if(null===c)return"null";if(void 0===c)return"undefined";if(c!==c)return"nan";
if(c&&1===c.nodeType)return"element";c=c.valueOf?c.valueOf():Object.prototype.valueOf.apply(c);return typeof c}},{}],29:[function(b,g,d){function a(b){this.defaults=a.defaults;this.debug=e;c.call(this,b)}var c=b("./entity");d=b("bind");var f=b("./cookie"),e=b("debug")("analytics:user"),h=b("inherit"),l=b("cookie"),k=b("uuid");a.defaults={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}};h(a,c);a.prototype.id=function(a){var b=this._getId(),e=c.prototype.id.apply(this,
arguments);if(null==b)return e;b!=a&&a&&this.anonymousId(null);return e};a.prototype.anonymousId=function(a){var c=this.storage();if(arguments.length)return c.set("ajs_anonymous_id",a),this;if(a=c.get("ajs_anonymous_id"))return a;if(a=l("_sio"))return a=a.split("----")[0],c.set("ajs_anonymous_id",a),c.remove("_sio"),a;a=k();c.set("ajs_anonymous_id",a);return c.get("ajs_anonymous_id")};a.prototype.logout=function(){c.prototype.logout.call(this);this.anonymousId(null)};a.prototype.load=function(){this._loadOldCookie()||
c.prototype.load.call(this)};a.prototype._loadOldCookie=function(){var a=f.get(this._options.cookie.oldKey);if(!a)return!1;this.id(a.id);this.traits(a.traits);f.remove(this._options.cookie.oldKey);return!0};g.exports=d.all(new a);g.exports.User=a},{"./entity":71,bind:10,"./cookie":13,debug:14,inherit:72,cookie:58,uuid:82}],82:[function(b,g,d){g.exports=function c(b){return b?(b^16*Math.random()>>b/4).toString(16):([1E7]+-1E3+-4E3+-8E3+-1E11).replace(/[018]/g,c)}},{}],6:[function(b,g,d){g.exports=
{name:"analytics-core",version:"2.11.1",main:"analytics.js",dependencies:{},devDependencies:{}}},{}],3:[function(b,g,d){g.exports={"google-analytics":b("analytics.js-integration-google-analytics"),trekkie:b("../trekkie/integration/trekkie.js"),"reports-tracking":b("../trekkie/integration/reports-tracking.js"),performance:b("../trekkie/integration/performance.js")}},{"analytics.js-integration-google-analytics":83,"../trekkie/integration/trekkie.js":84,"../trekkie/integration/reports-tracking.js":85,
"../trekkie/integration/performance.js":86}],83:[function(b,g,d){function a(a,c){if(a){var b=a.path;c.includeSearch&&a.search&&(b+=a.search);return b}}function c(a){return!a||0>a?0:Math.round(a)}function f(a,c){for(var b=c.dimensions,e=c.metrics,f=n(e).concat(n(b)),d={},h=0;h<f.length;++h){var g=f[h],l=e[g]||b[g],g=w(a,g)||a[g];null!=g&&(d[l]=g)}return d}function e(a){var c=a.properties();window.ga("ec:addProduct",{id:a.id()||a.sku(),name:a.name(),category:a.category(),quantity:a.quantity(),price:a.price(),
brand:c.brand,variant:c.variant,currency:a.currency()})}function h(a,c,b){e(a);window.ga("ec:setAction",c,b||{})}function l(a){a=y([a.paymentMethod,a.shippingMethod],function(a){return a});return 0<a.length?a.join(", "):null}function k(a,c){c.currency=c.currency||a.currency();return new m({properties:c})}var m=b("facade").Track,p=b("defaults"),w=b("obj-case"),q=b("each"),u=b("analytics.js-integration"),v=b("is"),n=b("object").keys,z=b("object").length,x=b("global-queue")("_gaq"),y=b("select"),B=b("use-https"),
t;g.exports=d=function(a){a.addIntegration(r);t=a.user()};var r=d.Integration=u("Google Analytics").readyOnLoad().global("ga").global("gaplugins").global("_gaq").global("GoogleAnalyticsObject").option("anonymizeIp",!1).option("classic",!1).option("dimensions",{}).option("domain","auto").option("doubleClick",!1).option("enhancedEcommerce",!1).option("enhancedLinkAttribution",!1).option("ignoredReferrers",null).option("includeSearch",!1).option("metrics",{}).option("nonInteraction",!1).option("sendUserId",
!1).option("siteSpeedSampleRate",1).option("trackCategorizedPages",!0).option("trackNamedPages",!0).option("trackingId","").tag("library",'<script src="//www.google-analytics.com/analytics.js">').tag("double click",'<script src="//stats.g.doubleclick.net/dc.js">').tag("http",'<script src="http://www.google-analytics.com/ga.js">').tag("https",'<script src="https://ssl.google-analytics.com/ga.js">');r.on("construct",function(a){a.options.classic?(a.initialize=a.initializeClassic,a.loaded=a.loadedClassic,
a.page=a.pageClassic,a.track=a.trackClassic,a.completedOrder=a.completedOrderClassic):a.options.enhancedEcommerce&&(a.viewedProduct=a.viewedProductEnhanced,a.clickedProduct=a.clickedProductEnhanced,a.addedProduct=a.addedProductEnhanced,a.removedProduct=a.removedProductEnhanced,a.startedOrder=a.startedOrderEnhanced,a.viewedCheckoutStep=a.viewedCheckoutStepEnhanced,a.completedCheckoutStep=a.completedCheckoutStepEnhanced,a.updatedOrder=a.updatedOrderEnhanced,a.completedOrder=a.completedOrderEnhanced,
a.refundedOrder=a.refundedOrderEnhanced,a.viewedPromotion=a.viewedPromotionEnhanced,a.clickedPromotion=a.clickedPromotionEnhanced)});r.prototype.initialize=function(){var a=this.options;window.GoogleAnalyticsObject="ga";window.ga=window.ga||function(){window.ga.q=window.ga.q||[];window.ga.q.push(arguments)};window.ga.l=(new Date).getTime();"localhost"===window.location.hostname&&(a.domain="none");window.ga("create",a.trackingId,{cookieDomain:a.domain||r.prototype.defaults.domain,siteSpeedSampleRate:a.siteSpeedSampleRate,
allowLinker:!0});a.doubleClick&&window.ga("require","displayfeatures");a.sendUserId&&t.id()&&window.ga("set","userId",t.id());a.anonymizeIp&&window.ga("set","anonymizeIp",!0);a=f(t.traits(),a);z(a)&&window.ga("set",a);this.load("library",this.ready)};r.prototype.loaded=function(){return!!window.gaplugins};r.prototype.page=function(c){var b=c.category(),e=c.properties(),d=c.fullName(),h=this.options,g=c.proxy("context.campaign")||{},l={},k=a(e,this.options),m=d||e.title;this._category=b;l.page=k;l.title=
m;l.location=e.url;g.name&&(l.campaignName=g.name);g.source&&(l.campaignSource=g.source);g.medium&&(l.campaignMedium=g.medium);g.content&&(l.campaignContent=g.content);g.term&&(l.campaignKeyword=g.term);e=f(e,h);z(e)&&window.ga("set",e);window.ga("set",{page:k,title:m});window.ga("send","pageview",l);b&&this.options.trackCategorizedPages&&(b=c.track(b),this.track(b,{nonInteraction:1}));d&&this.options.trackNamedPages&&(b=c.track(d),this.track(b,{nonInteraction:1}))};r.prototype.identify=function(a){var c=
this.options;c.sendUserId&&a.userId()&&window.ga("set","userId",a.userId());a=f(t.traits(),c);z(a)&&window.ga("set",a)};r.prototype.track=function(a,b){var e=a.options(this.name),d=this.options,h=p(b||{},e),h=p(h,d),g=a.properties(),e=a.proxy("context.campaign")||{},d=f(g,d);z(d)&&window.ga("set",d);d={eventAction:a.event(),eventCategory:g.category||this._category||"All",eventLabel:g.label,eventValue:c(g.value||a.revenue()),nonInteraction:!(!g.nonInteraction&&!h.nonInteraction)};e.name&&(d.campaignName=
e.name);e.source&&(d.campaignSource=e.source);e.medium&&(d.campaignMedium=e.medium);e.content&&(d.campaignContent=e.content);e.term&&(d.campaignKeyword=e.term);window.ga("send","event",d)};r.prototype.completedOrder=function(a){var c=a.total()||a.revenue()||0,b=a.orderId(),e=a.products(),f=a.properties();b&&(this.ecommerce||(window.ga("require","ecommerce"),this.ecommerce=!0),window.ga("ecommerce:addTransaction",{affiliation:f.affiliation,shipping:a.shipping(),revenue:c,tax:a.tax(),id:b,currency:a.currency()}),
q(e,function(c){c=k(a,c);window.ga("ecommerce:addItem",{category:c.category(),quantity:c.quantity(),price:c.price(),name:c.name(),sku:c.sku(),id:b,currency:c.currency()})}),window.ga("ecommerce:send"))};r.prototype.initializeClassic=function(){var a=this.options,c=a.anonymizeIp,b=a.domain,e=a.enhancedLinkAttribution,f=a.ignoredReferrers,d=a.siteSpeedSampleRate;window._gaq=window._gaq||[];x("_setAccount",a.trackingId);x("_setAllowLinker",!0);c&&x("_gat._anonymizeIp");b&&x("_setDomainName",b);d&&x("_setSiteSpeedSampleRate",
d);e&&x("_require","inpage_linkid",("https:"===document.location.protocol?"https:":"http:")+"//www.google-analytics.com/plugins/ga/inpage_linkid.js");f&&(v.array(f)||(f=[f]),q(f,function(a){x("_addIgnoredRef",a)}));this.options.doubleClick?this.load("double click",this.ready):(a=B()?"https":"http",this.load(a,this.ready))};r.prototype.loadedClassic=function(){return!(!window._gaq||window._gaq.push===Array.prototype.push)};r.prototype.pageClassic=function(c){var b=c.category(),e=c.properties(),f=c.fullName();
x("_trackPageview",a(e,this.options));b&&this.options.trackCategorizedPages&&(b=c.track(b),this.track(b,{nonInteraction:1}));f&&this.options.trackNamedPages&&(b=c.track(f),this.track(b,{nonInteraction:1}))};r.prototype.trackClassic=function(a,b){var e=b||a.options(this.name),f=a.properties(),d=a.revenue(),h=a.event(),g=this._category||f.category||"All",l=f.label,d=c(d||f.value);x("_trackEvent",g,h,l,d,!(!f.nonInteraction&&!e.nonInteraction))};r.prototype.completedOrderClassic=function(a){var c=a.total()||
a.revenue()||0,b=a.orderId(),e=a.products()||[],f=a.properties(),d=a.currency();b&&(x("_addTrans",b,f.affiliation,c,a.tax(),a.shipping(),a.city(),a.state(),a.country()),q(e,function(a){a=new m({properties:a});x("_addItem",b,a.sku(),a.name(),a.category(),a.price(),a.quantity())}),x("_set","currencyCode",d),x("_trackTrans"))};r.prototype.loadEnhancedEcommerce=function(a){this.enhancedEcommerceLoaded||(window.ga("require","ec"),this.enhancedEcommerceLoaded=!0);window.ga("set","&cu",a.currency())};r.prototype.pushEnhancedEcommerce=
function(a){window.ga("send","event",a.category()||"EnhancedEcommerce",a.event(),{nonInteraction:1})};r.prototype.startedOrderEnhanced=function(a){this.viewedCheckoutStep(a)};r.prototype.updatedOrderEnhanced=function(a){this.startedOrderEnhanced(a)};r.prototype.viewedCheckoutStepEnhanced=function(a){var c=a.products(),b=a.properties(),f=l(b);this.loadEnhancedEcommerce(a);q(c,function(c){c=k(a,c);e(c)});window.ga("ec:setAction","checkout",{step:b.step||1,option:f||void 0});this.pushEnhancedEcommerce(a)};
r.prototype.completedCheckoutStepEnhanced=function(a){var c=a.properties(),b=l(c);c.step&&b&&(this.loadEnhancedEcommerce(a),window.ga("ec:setAction","checkout_option",{step:c.step||1,option:b}),window.ga("send","event","Checkout","Option"))};r.prototype.completedOrderEnhanced=function(a){var c=a.total()||a.revenue()||0,b=a.orderId(),f=a.products(),d=a.properties();b&&(this.loadEnhancedEcommerce(a),q(f,function(c){c=k(a,c);e(c)}),window.ga("ec:setAction","purchase",{id:b,affiliation:d.affiliation,
revenue:c,tax:a.tax(),shipping:a.shipping(),coupon:a.coupon()}),this.pushEnhancedEcommerce(a))};r.prototype.refundedOrderEnhanced=function(a){var c=a.orderId(),b=a.products();c&&(this.loadEnhancedEcommerce(a),q(b,function(a){a=new m({properties:a});window.ga("ec:addProduct",{id:a.id()||a.sku(),quantity:a.quantity()})}),window.ga("ec:setAction","refund",{id:c}),this.pushEnhancedEcommerce(a))};r.prototype.addedProductEnhanced=function(a){this.loadEnhancedEcommerce(a);h(a,"add");this.pushEnhancedEcommerce(a)};
r.prototype.removedProductEnhanced=function(a){this.loadEnhancedEcommerce(a);h(a,"remove");this.pushEnhancedEcommerce(a)};r.prototype.viewedProductEnhanced=function(a){this.loadEnhancedEcommerce(a);h(a,"detail");this.pushEnhancedEcommerce(a)};r.prototype.clickedProductEnhanced=function(a){var c=a.properties();this.loadEnhancedEcommerce(a);h(a,"click",{list:c.list});this.pushEnhancedEcommerce(a)};r.prototype.viewedPromotionEnhanced=function(a){var c=a.properties();this.loadEnhancedEcommerce(a);window.ga("ec:addPromo",
{id:a.id(),name:a.name(),creative:c.creative,position:c.position});this.pushEnhancedEcommerce(a)};r.prototype.clickedPromotionEnhanced=function(a){var c=a.properties();this.loadEnhancedEcommerce(a);window.ga("ec:addPromo",{id:a.id(),name:a.name(),creative:c.creative,position:c.position});window.ga("ec:setAction","promo_click",{});this.pushEnhancedEcommerce(a)}},{facade:8,defaults:87,"obj-case":42,each:4,"analytics.js-integration":88,is:18,object:20,"global-queue":89,select:90,"use-https":91}],87:[function(b,
g,d){g.exports=function(a,c){for(var b in c)b in a||(a[b]=c[b]);return a}},{}],88:[function(b,g,d){var a=b("bind"),c=b("clone"),f=b("debug"),e=b("defaults"),h=b("extend"),l=b("slug"),k=b("./protos"),m=b("./statics");g.exports=function(b){function d(h){if(h&&h.addIntegration)return h.addIntegration(d);this.debug=f("analytics:integration:"+l(b));this.options=e(c(h)||{},this.defaults);this._queue=[];this.once("ready",a(this,this.flush));d.emit("construct",this);this.ready=a(this,this.ready);this._wrapInitialize();
this._wrapPage();this._wrapTrack()}d.prototype.defaults={};d.prototype.globals=[];d.prototype.templates={};d.prototype.name=b;h(d,m);h(d.prototype,k);return d}},{bind:92,clone:12,debug:93,defaults:15,extend:94,slug:95,"./protos":96,"./statics":97}],92:[function(b,g,d){var a=b("bind");b=b("bind-all");g.exports=d=a;d.all=b;d.methods=function(c,b){b=[].slice.call(arguments,1);for(var e=0,d;d=b[e];e++)c[d]=a(c,c[d]);return c}},{bind:55,"bind-all":56}],93:[function(b,g,d){g.exports="undefined"==typeof window?
b("./lib/debug"):b("./debug")},{"./lib/debug":98,"./debug":99}],98:[function(b,g,d){b=b("tty");g.exports=function(b){function d(){}function g(a){a=a instanceof Error?a.stack||a.message:a;var c=new Date,f=c-(e[b]||c);e[b]=c;c="  \u001b[9"+u+"m"+b+" \u001b[3"+u+"m\u001b[90m"+a+"\u001b[3"+u+"m +";f=36E5<=f?(f/36E5).toFixed(1)+"h":6E4<=f?(f/6E4).toFixed(1)+"m":1E3<=f?(f/1E3|0)+"s":f+"ms";a=c+f+"\u001b[0m";console.error.apply(this,arguments)}function w(a){a=a instanceof Error?a.stack||a.message:a;a=(new Date).toUTCString()+
" "+b+" "+a;console.error.apply(this,arguments)}d.enabled=!1;var q=c.some(function(a){return a.test(b)});if(q)return d;q=a.some(function(a){return a.test(b)});if(!q)return d;var u=f[h++%f.length];g.enabled=w.enabled=!0;return l||process.env.DEBUG_COLORS?g:w};var a=[],c=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(b){b=b.replace("*",".*?");"-"===b[0]?c.push(new RegExp("^"+b.substr(1)+"$")):a.push(new RegExp("^"+b+"$"))});var f=[6,2,3,4,5,1],e={},h=0,l=b.isatty(2)},{}],99:[function(b,
g,d){function a(c){return a.enabled(c)?function(b){b instanceof Error&&(b=b.stack||b.message);var e=new Date,d=e-(a[c]||e);a[c]=e;b=c+" "+b+" +"+a.humanize(d);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}g.exports=a;a.names=[];a.skips=[];a.enable=function(c){try{localStorage.debug=c}catch(b){}for(var f=(c||"").split(/[\s,]+/),e=f.length,d=0;d<e;d++)c=f[d].replace("*",".*?"),"-"===c[0]?a.skips.push(new RegExp("^"+c.substr(1)+"$")):a.names.push(new RegExp("^"+
c+"$"))};a.disable=function(){a.enable("")};a.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};a.enabled=function(c){for(var b=0,e=a.skips.length;b<e;b++)if(a.skips[b].test(c))return!1;b=0;for(e=a.names.length;b<e;b++)if(a.names[b].test(c))return!0;return!1};try{window.localStorage&&a.enable(localStorage.debug)}catch(c){}},{}],94:[function(b,g,d){g.exports=function(a){for(var c=Array.prototype.slice.call(arguments,1),b=0,e;e=c[b];b++)if(e)for(var d in e)a[d]=
e[d];return a}},{}],95:[function(b,g,d){g.exports=function(a,c){c||(c={});return a.toLowerCase().replace(c.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,c.separator||"-")}},{}],96:[function(b,g,d){function a(){}function c(a,c){c=c||function(){};var b=new Image;b.onerror=f(c,"failed to load pixel",b);b.onload=function(){c()};b.src=a.src;b.width=1;b.height=1;return b}function f(a,c,b){return function(e){e=e||window.event;var f=Error(c);f.event=e;f.source=b;a(f)}}function e(a,c){return p(function(a,
b,e){a[e]=b.replace(/\{\{\ *(\w+)\ *\}\}/g,function(a,b){return c[b]});return a},{},a.attrs)}g=b("emitter");var h=b("after"),l=b("each"),k=b("analytics-events"),m=b("fmt"),p=b("foldl"),w=b("load-iframe"),q=b("load-script"),u=b("to-no-case"),v=b("next-tick"),n=b("type"),z=Object.prototype.hasOwnProperty,x=window.onerror,y=window.setInterval,B=window.setTimeout;g(d);d.initialize=function(){v(this.ready)};d.loaded=function(){return!1};d.page=function(a){};d.track=function(a){};d.map=function(a,c){var b=
u(c);return p(function(a,c,e,f){if("array"===n(f)){if(!c.key)return a;e=c.key;c=c.value}u(e)===b&&a.push(c);return a},[],a)};d.invoke=function(a){if(this[a]){var c=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(a,c);var b;try{this.debug("%s with %o",a,c),b=this[a].apply(this,c)}catch(e){this.debug("error %o calling %s with %o",e,a,c)}return b}};d.queue=function(a,c){if("page"===a&&this._assumesPageview&&!this._initialized)return this.page.apply(this,c);this._queue.push({method:a,
args:c})};d.flush=function(){this._ready=!0;var a=this;l(this._queue,function(c){a[c.method].apply(a,c.args)});this._queue.length=0};d.reset=function(){for(var a=0;a<this.globals.length;a++)window[this.globals[a]]=void 0;window.setTimeout=B;window.setInterval=y;window.onerror=x;window.onload=null};d.load=function(b,f,d){"function"===typeof b&&(d=b,b=f=null);b&&"object"===typeof b&&(d=f,f=b,b=null);"function"===typeof f&&(d=f,f=null);b=b||"library";f=f||{};f=this.locals(f);var g=this.templates[b];
if(!g)throw Error(m('template "%s" not defined.',b));b=e(g,f);d=d||a;var h=this,k;switch(g.type){case "img":b.width=1;b.height=1;k=c(b,d);break;case "script":k=q(b,function(a){if(!a)return d();h.debug('error loading "%s" error="%s"',h.name,a)});delete b.src;l(b,function(a,c){k.setAttribute(a,c)});break;case "iframe":k=w(b,d)}return k};d.locals=function(a){a=a||{};var c=Math.floor((new Date).getTime()/36E5);a.hasOwnProperty("cache")||(a.cache=c);l(this.options,function(c,b){a.hasOwnProperty(c)||(a[c]=
b)});return a};d.ready=function(){this.emit("ready")};d._wrapInitialize=function(){var a=this.initialize;this.initialize=function(){this.debug("initialize");this._initialized=!0;var c=a.apply(this,arguments);this.emit("initialize");return c};this._assumesPageview&&(this.initialize=h(2,this.initialize))};d._wrapPage=function(){var a=this.page;this.page=function(){return this._assumesPageview&&!this._initialized?this.initialize.apply(this,arguments):a.apply(this,arguments)}};d._wrapTrack=function(){var a=
this.track;this.track=function(c){var b=c.event(),e,f,d;for(d in k)if(z.call(k,d)){var g=k[d];if(this[d]&&g.test(b)){f=this[d].apply(this,arguments);e=!0;break}}e||(f=a.apply(this,arguments));return f}}},{emitter:7,after:9,each:100,"analytics-events":101,fmt:102,foldl:16,"load-iframe":103,"load-script":104,"to-no-case":105,"next-tick":57,type:106}],100:[function(b,g,d){try{var a=b("type")}catch(e){a=b("component-type")}var c=b("to-function"),f=Object.prototype.hasOwnProperty;g.exports=function(b,
d,g){d=c(d);g=g||this;switch(a(b)){case "array":var k=d;for(d=0;d<b.length;++d)k.call(g,b[d],d);break;case "object":if("number"==typeof b.length){k=d;for(d=0;d<b.length;++d)k.call(g,b[d],d);break}for(k in b)f.call(b,k)&&d.call(g,k,b[k]);break;case "string":for(k=d,d=0;d<b.length;++d)k.call(g,b.charAt(d),d)}}},{type:106,"component-type":106,"to-function":77}],106:[function(b,g,d){var a=Object.prototype.toString;g.exports=function(c){switch(a.call(c)){case "[object Function]":return"function";case "[object Date]":return"date";
case "[object RegExp]":return"regexp";case "[object Arguments]":return"arguments";case "[object Array]":return"array";case "[object String]":return"string"}return null===c?"null":void 0===c?"undefined":c&&1===c.nodeType?"element":c===Object(c)?"object":typeof c}},{}],101:[function(b,g,d){g.exports={removedProduct:/^[ _]?removed[ _]?product[ _]?$/i,viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,
completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,updatedOrder:/^[ _]?updated[ _]?order[ _]?$/i,refundedOrder:/^[ _]?refunded?[ _]?order[ _]?$/i,viewedProductDetails:/^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,clickedProduct:/^[ _]?clicked[ _]?product[ _]?$/i,viewedPromotion:/^[ _]?viewed[ _]?promotion?[ _]?$/i,clickedPromotion:/^[ _]?clicked[ _]?promotion?[ _]?$/i,viewedCheckoutStep:/^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,completedCheckoutStep:/^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i}},
{}],102:[function(b,g,d){function a(c){var b=[].slice.call(arguments,1),e=0;return c.replace(/%([a-z])/gi,function(c,d){return a[d]?a[d](b[e++]):c+d})}b=window.JSON?JSON.stringify:function(a){return String(a)};g.exports=a;a.o=b;a.s=String;a.d=parseInt},{}],103:[function(b,g,d){var a=b("script-onload"),c=b("next-tick"),f=b("type");g.exports=function(b,d){if(!b)throw Error("Cant load nothing...");"string"==f(b)&&(b={src:b});var g="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;
b.src&&0===b.src.indexOf("//")&&(b.src=g?"https:"+b.src:"http:"+b.src);g&&b.https?b.src=b.https:!g&&b.http&&(b.src=b.http);var k=document.createElement("iframe");k.src=b.src;k.width=b.width||1;k.height=b.height||1;k.style.display="none";"function"==f(d)&&a(k,d);c(function(){var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(k,a)});return k}},{"script-onload":107,"next-tick":57,type:47}],107:[function(b,g,d){function a(a,c){a.addEventListener("load",function(a,b){c(null,b)},
!1);a.addEventListener("error",function(b){var d=Error('script error "'+a.src+'"');d.event=b;c(d)},!1)}function c(a,c){a.attachEvent("onreadystatechange",function(b){/complete|loaded/.test(a.readyState)&&c(null,b)});a.attachEvent("onerror",function(b){var d=Error('failed to load the script "'+a.src+'"');d.event=b||window.event;c(d)})}g.exports=function(b,e){return b.addEventListener?a(b,e):c(b,e)}},{}],104:[function(b,g,d){var a=b("script-onload"),c=b("next-tick"),f=b("type");g.exports=function(b,
d){if(!b)throw Error("Cant load nothing...");"string"==f(b)&&(b={src:b});var g="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;b.src&&0===b.src.indexOf("//")&&(b.src=g?"https:"+b.src:"http:"+b.src);g&&b.https?b.src=b.https:!g&&b.http&&(b.src=b.http);var k=document.createElement("script");k.type="text/javascript";k.async=!0;k.src=b.src;"function"==f(d)&&a(k,d);c(function(){var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(k,a)});return k}},
{"script-onload":107,"next-tick":57,type:47}],105:[function(b,g,d){function a(a){return a.replace(h,function(a,c){return c?" "+c:""})}function c(a){return a.replace(l,function(a,c,b){return c+" "+b.toLowerCase().split("").join(" ")})}g.exports=function(b){return f.test(b)?b.toLowerCase():e.test(b)?a(b).toLowerCase():c(b).toLowerCase()};var f=/\s/,e=/[\W_]/,h=/[\W_]+(.|$)/g,l=/(.)([A-Z]+)/g},{}],97:[function(b,g,d){function a(a){a=a.replace(' src="',' data-src="');var b=c(a),d={};f(b.attributes,function(c){var b=
"data-src"===c.name?"src":c.name;e(c.name+"=",a)&&(d[b]=c.value)});return{type:b.tagName.toLowerCase(),attrs:d}}g=b("emitter");var c=b("domify"),f=b("each"),e=b("includes");g(d);d.option=function(a,c){this.prototype.defaults[a]=c;return this};d.mapping=function(a){this.option(a,[]);this.prototype[a]=function(c){return this.map(this.options[a],c)};return this};d.global=function(a){this.prototype.globals.push(a);return this};d.assumesPageview=function(){this.prototype._assumesPageview=!0;return this};
d.readyOnLoad=function(){this.prototype._readyOnLoad=!0;return this};d.readyOnInitialize=function(){this.prototype._readyOnInitialize=!0;return this};d.tag=function(c,b){null==b&&(b=c,c="library");this.prototype.templates[c]=a(b);return this}},{emitter:7,domify:108,each:100,includes:75}],108:[function(b,g,d){g.exports=function(c,b){if("string"!=typeof c)throw new TypeError("String expected");b||(b=document);var e=/<([\w:]+)/.exec(c);if(!e)return b.createTextNode(c);c=c.replace(/^\s+|\s+$/g,"");e=
e[1];if("body"==e)return e=b.createElement("html"),e.innerHTML=c,e.removeChild(e.lastChild);var e=a[e]||a._default,d=e[0],g=e[1],k=e[2],e=b.createElement("div");for(e.innerHTML=g+c+k;d--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(d=b.createDocumentFragment();e.firstChild;)d.appendChild(e.removeChild(e.firstChild));return d};b=document.createElement("div");b.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';g=!b.getElementsByTagName("link").length;
b=void 0;var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:g?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"];a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"];a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',
"</svg>"]},{}],89:[function(b,g,d){g.exports=function(a,c){c=c||{};return function(b){b=[].slice.call(arguments);window[a]||(window[a]=[]);!1===c.wrap?window[a].push.apply(window[a],b):window[a].push(b)}}},{}],90:[function(b,g,d){var a=b("to-function");g.exports=function(c,b){var e=[];b=a(b);for(var d=0;d<c.length;++d)b(c[d],d)&&e.push(c[d]);return e}},{"to-function":77}],91:[function(b,g,d){function a(){return"https:"==location.protocol||"chrome-extension:"==location.protocol}g.exports=function(c){switch(arguments.length){case 0:return a();
case 1:return a()?"https:"+c:"http:"+c}}},{}],84:[function(b,g,d){d=b("analytics.js-integration");var a=b("./../trekkie.js");b=g.exports=d("Trekkie").option("appName").option("environment","production").option("navigationTimingApiMeasurementsEnabled",!1).option("navigationTimingApiMeasurementsSampleRate",.5).option("defaultAttributes",{});b.prototype.initialize=function(){this.trekkie=new a(this.options.appName,this._merge(this.options.defaultAttributes,{environment:this.options.environment}));var c=
{};void 0!==typeof this.analytics.user&&(c=this._merge(c,this.analytics.user().traits()));c=this._merge(c,{visitToken:this.trekkie.defaultAttributes.visitToken,uniqToken:this.trekkie.defaultAttributes.uniqToken});this.analytics.identify(null,c);this.ready()};b.prototype.identify=function(a){a=this._merge(a.traits(),{id:a.userId()});this.trekkie.emit("identify",a)};b.prototype.track=function(a){a=this._merge(a.properties(),{event:a.event()});this.trekkie.emit("track",a)};b.prototype.page=function(a){a=
this._merge(a.properties(),{category:a.category(),name:a.name()});this.trekkie.emit("page",a)};b.prototype.alias=function(a){a={id:a.userId(),token:a.previousId()};this.trekkie.emit("alias",a)};b.prototype._merge=function(a,b){var e=function(a,c){for(var b in c)a[b]=c[b];return a},d=e({},a);return e(d,b)}},{"analytics.js-integration":88,"./../trekkie.js":109}],109:[function(b,g,d){function a(a,b){if(!a)throw"appName argument is required to initialize Trekkie.";this.appName=a;b=b?b:{};this.environment=
b.environment||"production";delete b.environment;this.defaultAttributes=this._merge(b,{hasUniqCookie:c.hasUniqCookie()?1:0,hasVisitCookie:c.hasVisitCookie()?1:0,visitToken:c.visitToken(),uniqToken:c.uniqToken(),microSessionId:c.buildUniqToken(),microSessionCount:0,appName:a});this.request=f}var c=b("./lib/token.js"),f=b("./lib/request.js"),e=b("./lib/events.js");a.prototype.emit=function(a,c){this.defaultAttributes.microSessionCount+=1;var b=this._merge(this.defaultAttributes,this._sanitize(c)),b=
this._merge(b,e.additionalParamsFromEvent(c.event));if("production"===this.environment)return this.request.load(this.appName,a,b);console.log("Logging trekkie "+a+" event to "+this.appName+" with:");console.log(b)};a.prototype._sanitize=function(a){var c={},b;for(b in a)a[b]&&(c[b]=a[b]);return c};a.prototype._merge=function(a,c){var b=function(a,c){for(var b in c)a[b]=c[b];return a},e=b({},a);return b(e,c)};g.exports=a},{"./lib/token.js":110,"./lib/request.js":111,"./lib/events.js":112}],110:[function(b,
g,d){var a=b("./cookie.js"),c=b("./store.js"),f={_uniqueId:{fetch:function(b,d){var f={permanent:b},g=a.read(d),f=c.read(d,f);return g||f},fetchOrSet:function(b){var d=b?"_y":"_s",g=b?"_shopify_y":"_shopify_s",d=(b&&void 0!==window._visit?window._visit.multitrackToken():null)||f._uniqueId.fetch(b,d)||f._uniqueId.fetch(b,g)||f._uniqueId.build();b={permanent:b};a.write(g,d,b);c.write(g,d,b);return d},generateWeakUUID:function(){return"xxxxxxxx-xxxx-4xxx-xxxx".replace(/[x]/g,function(a){var c=16*Math.random()|
0;return("x"===a?c:c&3|8).toString(16)}).toUpperCase()},generateStrongUUID:function(a){var c=0;return"xxxxxxxx-xxxx-4xxx-xxxx".replace(/[x]/g,function(b){var d=a[c]%16;c++;return("x"===b?d:d&3|8).toString(16)}).toUpperCase()},build:function(){if(a.isEnabled())try{var c=window.crypto||window.msCrypto,b=new Uint16Array(19);c.getRandomValues(b);return f._uniqueId.generateStrongUUID(b)}catch(d){return f._uniqueId.generateWeakUUID()}else return"00000000-0000-0000-4000-000000000000"}},hasShortTerm:function(){return!!a.read("_shopify_s")||
!!a.read("_s")},hasLongTerm:function(){return!!a.read("_shopify_y")||!!a.read("_y")},shortTerm:function(){return f._uniqueId.fetchOrSet(!1)},longTerm:function(){return f._uniqueId.fetchOrSet(!0)}};d.visitToken=f.shortTerm;d.uniqToken=f.longTerm;d.hasUniqCookie=f.hasLongTerm;d.hasVisitCookie=f.hasShortTerm;d.buildUniqToken=f._uniqueId.build},{"./cookie.js":113,"./store.js":114}],113:[function(b,g,d){var a=b("cookie"),c=b("./utils.js"),f={read:function(c){return a(c)},writeForDomain:function(c,b,d,
g){d={maxage:f._maxage(d),domain:g,path:"/"};a(c,b,d)},write:function(a,c,b){f.isEnabled()&&(b=b||{},f.writeForDomain(a,c,b.permanent,f.shopifyCookieDomain(window.location.hostname)),f.writeForDomain(a,c,b.permanent,".myshopify.com"),f.writeForDomain(a,c,b.permanent,b.domain))},_maxage:function(a){return a?62208E6:18E5},shopifyCookieDomain:function(a){var b=a.indexOf("shopify");return-1!==b?c.startsWith(a,"shopify")?"."+a:a.slice(b-1):".shopify.com"},isEnabled:function(){return window.navigator.cookieEnabled}};
d.read=f.read;d.write=f.write;d.shopifyCookieDomain=f.shopifyCookieDomain;d.isEnabled=f.isEnabled},{cookie:58,"./utils.js":115}],115:[function(b,g,d){d.startsWith=function(a,c){return 0===a.indexOf(c)}},{}],114:[function(b,g,d){var a={_storeType:function(a){a=a||{};return a.permanent?window.localStorage:window.sessionStorage},_isAvailable:function(a){try{a.setItem("t","t");var b=a.getItem("t");a.removeItem("t");return"t"===b}catch(d){return!1}},read:function(c,b){var d=a._storeType(b);return a._isAvailable(d)?
d.getItem(c):null},write:function(c,b,d){d=a._storeType(d);return a._isAvailable(d)?d.setItem(c,b):null}};d.read=a.read;d.write=a.write},{}],111:[function(b,g,d){var a=b("load-pixel")("https://v.shopify.com/:app/:type"),c=b("querystring").parse,f={load:function(c,b,d){return a(d,{app:c,type:b},f._error)},_error:function(b){if(b&&b.event===window.event){var d=b.source.src.split("?"),f=d[0].split(".com/")[1].split("/");b=f[0];var f=f[1],d=c(d[1]),g={};d.event&&(g.event=d.event);d.url&&(g.url=d.url);
g.truncated=!0;return a(g,{app:b,type:f})}}};d.load=f.load},{"load-pixel":116,querystring:27}],116:[function(b,g,d){function a(a,c,b){return function(d){d=d||window.event;var f=Error(c);f.event=d;f.source=b;a(f)}}var c=b("querystring").stringify,f=b("substitute");g.exports=function(b){return function(d,g,k){"function"==typeof g&&(k=g,g={});g=g||{};k=k||function(){};g=f(b,g);var m=new Image;m.onerror=a(k,"failed to load pixel",m);m.onload=function(){k()};(d=c(d))&&(d="?"+d);m.src=g+d;m.width=1;m.height=
1;return m}}},{querystring:27,substitute:117}],117:[function(b,g,d){g.exports=function(c,b,d){if(!b)throw new TypeError("expected an object");d=d||/:(\w+)/g;return c.replace(d,function(c,d){switch(a.call(b)){case "[object Object]":return null!=b[d]?b[d]:c;case "[object Array]":var e=b.shift();return null!=e?e:c}})};var a=Object.prototype.toString},{}],112:[function(b,g,d){var a={"Viewed Product":{resourceType:"product",pageType:"product"},"Added Product":{eventType:"add_to_cart",resourceType:"product",
pageType:"cart"},"Removed Product":{eventType:"remove_from_cart",resourceType:"product",pageType:"cart"},"Viewed Cart":{pageType:"cart"},"Cleared Cart":{eventType:"clear_cart",pageType:"cart"},"Viewed Product Category":{resourceType:"collection",pageType:"collection"},"Viewed Collections":{pageType:"collections"}};d.additionalParamsFromEvent=function(c){c=a[c];var b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);return b}},{}],85:[function(b,g,d){b=b("analytics.js-integration");g=g.exports=b("ReportsTracking").option("shopId",
null).option("timezoneOffset",null).option("requestId",null).option("pageUrl",null).option("uniqId",null).option("subject",null).option("tag",null).option("customerId",null).option("page",null).option("resourceType",null).option("resourceID",null).tag('<script src="cdn.shopify.com/s/javascripts/shopify_stats.js?v=6">');var a={shopId:"a",timezoneOffset:"offset",requestId:"reqid",pageUrl:"pageurl",uniqId:"u",subject:"s",tag:"t",customerId:"cid",page:"p",resourceType:"rtyp",resourceID:"rid"};g.prototype.initialize=
function(){var c={},b;for(b in a)this.options.hasOwnProperty(b)&&this.options[b]&&(c[a[b]]=this.options[b]);window.__st=c;this.load(this.ready)};g.prototype.page=function(){}},{"analytics.js-integration":118}],118:[function(b,g,d){var a=b("bind"),c=b("clone"),f=b("debug"),e=b("defaults"),h=b("extend"),l=b("slug"),k=b("./protos"),m=b("./statics");g.exports=function(b){function d(g){if(g&&g.addIntegration)return g.addIntegration(d);this.debug=f("analytics:integration:"+l(b));this.options=e(c(g)||{},
this.defaults);this._queue=[];this.once("ready",a(this,this.flush));d.emit("construct",this);this.ready=a(this,this.ready);this._wrapInitialize();this._wrapPage();this._wrapTrack()}d.prototype.defaults={};d.prototype.globals=[];d.prototype.templates={};d.prototype.name=b;h(d,m);h(d.prototype,k);return d}},{bind:92,clone:12,debug:93,defaults:15,extend:94,slug:95,"./protos":119,"./statics":120}],119:[function(b,g,d){function a(){}function c(a){return y.array(a)?x(f,a)?"mixed":"array":y.object(a)?"map":
"unknown"}function f(a){return y.object(a)&&y.string(a.key)&&B.call(a,"value")?!0:!1}function e(a,b){b=b||function(){};var c=new Image;c.onerror=h(b,"failed to load pixel",c);c.onload=function(){b()};c.src=a.src;c.width=1;c.height=1;return c}function h(a,b,c){return function(d){d=d||window.event;var e=Error(b);e.event=d;e.source=c;a(e)}}function l(a,b){return q(function(a,c,d){a[d]=c.replace(/\{\{\ *(\w+)\ *\}\}/g,function(a,c){return b[c]});return a},{},a.attrs)}g=b("emitter");var k=b("after"),m=
b("each"),p=b("analytics-events"),w=b("fmt"),q=b("foldl"),u=b("load-iframe"),v=b("load-script"),n=b("to-no-case"),z=b("next-tick"),x=b("every"),y=b("is"),B=Object.prototype.hasOwnProperty,t=window.onerror,r=window.setInterval,C=window.setTimeout;g(d);d.initialize=function(){z(this.ready)};d.loaded=function(){return!1};d.page=function(a){};d.track=function(a){};d.map=function(a,b){var d=n(b),e=c(a);return"unknown"===e?[]:q(function(a,b,c){var f,g;"map"===e&&(f=c,g=b);"array"===e&&(g=f=b);"mixed"===
e&&(f=b.key,g=b.value);n(f)===d&&a.push(g);return a},[],a)};d.invoke=function(a){if(this[a]){var b=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(a,b);var c;try{this.debug("%s with %o",a,b),c=this[a].apply(this,b)}catch(d){this.debug("error %o calling %s with %o",d,a,b)}return c}};d.queue=function(a,b){if("page"===a&&this._assumesPageview&&!this._initialized)return this.page.apply(this,b);this._queue.push({method:a,args:b})};d.flush=function(){this._ready=!0;var a=this;
m(this._queue,function(b){a[b.method].apply(a,b.args)});this._queue.length=0};d.reset=function(){for(var a=0;a<this.globals.length;a++)window[this.globals[a]]=void 0;window.setTimeout=C;window.setInterval=r;window.onerror=t;window.onload=null};d.load=function(b,c,d){"function"===typeof b&&(d=b,b=c=null);b&&"object"===typeof b&&(d=c,c=b,b=null);"function"===typeof c&&(d=c,c=null);b=b||"library";c=c||{};c=this.locals(c);var f=this.templates[b];if(!f)throw Error(w('template "%s" not defined.',b));b=
l(f,c);d=d||a;var g=this,h;switch(f.type){case "img":b.width=1;b.height=1;h=e(b,d);break;case "script":h=v(b,function(a){if(!a)return d();g.debug('error loading "%s" error="%s"',g.name,a)});delete b.src;m(b,function(a,b){h.setAttribute(a,b)});break;case "iframe":h=u(b,d)}return h};d.locals=function(a){a=a||{};var b=Math.floor((new Date).getTime()/36E5);a.hasOwnProperty("cache")||(a.cache=b);m(this.options,function(b,c){a.hasOwnProperty(b)||(a[b]=c)});return a};d.ready=function(){this.emit("ready")};
d._wrapInitialize=function(){var a=this.initialize;this.initialize=function(){this.debug("initialize");this._initialized=!0;var b=a.apply(this,arguments);this.emit("initialize");return b};this._assumesPageview&&(this.initialize=k(2,this.initialize))};d._wrapPage=function(){var a=this.page;this.page=function(){return this._assumesPageview&&!this._initialized?this.initialize.apply(this,arguments):a.apply(this,arguments)}};d._wrapTrack=function(){var a=this.track;this.track=function(b){var c=b.event(),
d,e,f;for(f in p)if(B.call(p,f)){var g=p[f];if(this[f]&&g.test(c)){e=this[f].apply(this,arguments);d=!0;break}}d||(e=a.apply(this,arguments));return e}}},{emitter:7,after:9,each:100,"analytics-events":101,fmt:102,foldl:16,"load-iframe":103,"load-script":104,"to-no-case":105,"next-tick":57,every:121,is:122}],121:[function(b,g,d){var a;try{a=b("@ndhoule/each")}catch(c){a=b("each")}g.exports=function(b,d){if("function"!==typeof b)throw new TypeError("`predicate` must be a function but was a "+typeof b);
var e=!0;a(function(a,d,f){e=!!b(a,d,f);if(!e)return!1},d);return e}},{each:69}],122:[function(b,g,d){function a(a){return function(b){return a===c(b)}}g=b("is-empty");try{var c=b("type")}catch(h){c=b("component-type")}b="arguments array boolean date element function null number object regexp string undefined".split(" ");for(var f=0,e;e=b[f];f++)d[e]=a(e);d.fn=d["function"];d.empty=g;d.nan=function(a){return d.number(a)&&a!=a}},{"is-empty":46,type:47,"component-type":47}],120:[function(b,g,d){function a(a){a=
a.replace(' src="',' data-src="');var b=c(a),d={};f(b.attributes,function(b){var c="data-src"===b.name?"src":b.name;e(b.name+"=",a)&&(d[c]=b.value)});return{type:b.tagName.toLowerCase(),attrs:d}}g=b("emitter");var c=b("domify"),f=b("each"),e=b("includes");g(d);d.option=function(a,b){this.prototype.defaults[a]=b;return this};d.mapping=function(a){this.option(a,[]);this.prototype[a]=function(b){return this.map(this.options[a],b)};return this};d.global=function(a){this.prototype.globals.push(a);return this};
d.assumesPageview=function(){this.prototype._assumesPageview=!0;return this};d.readyOnLoad=function(){this.prototype._readyOnLoad=!0;return this};d.readyOnInitialize=function(){this.prototype._readyOnInitialize=!0;return this};d.tag=function(b,c){null==c&&(c=b,b="library");this.prototype.templates[b]=a(c);return this}},{emitter:7,domify:108,each:100,includes:75}],86:[function(b,g,d){d=b("analytics.js-integration");var a=b("./../lib/perf.js");b=g.exports=d("Performance").option("navigationTimingApiMeasurementsEnabled",
!1).option("navigationTimingApiMeasurementsSampleRate",.5);b.prototype.initialize=function(){this.ready()};b.prototype.page=function(b){b=this._merge(b.properties(),{category:b.category(),name:b.name()});this.options.navigationTimingApiMeasurementsEnabled&&this.options.navigationTimingApiMeasurementsSampleRate>=Math.random()&&(b=this._merge(a.pagePerfomance(),b),this.analytics.track("navigation_performance_metrics",b))};b.prototype._merge=function(a,b){var d=function(a,b){for(var c in b)a[c]=b[c];
return a},g=d({},a);return d(g,b)}},{"analytics.js-integration":118,"./../lib/perf.js":123}],123:[function(b,g,d){var a="navigationStart unloadEventStart unloadEventEnd redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd domLoading domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" ");d.perfAttrs=a;d.pagePerfomance=function(){var b=
{},d=function(){for(var d=0,e=a.length;d<e;d++)b["nt:"+a[d]]=0;b["nt:valid"]=!1};if(window.performance&&window.performance.timing&&!/MSIE 9.0|Firefox\/7.0|Firefox\/8.0/.test(window.navigator.userAgent))try{for(var e=0,g=a.length;e<g;e++)b["nt:"+a[e]]=window.performance.timing[a[e]];b["nt:valid"]=!0}catch(l){d()}else d();return b}},{}]},{},{1:"trekkie"});
